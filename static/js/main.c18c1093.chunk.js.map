{"version":3,"sources":["assets/images/avatar.png","components/common/FormsControls/FormsControls.tsx","components/common/Preloader/Preloader.module.css","redux/profile-reducer.ts","redux/dialogs-reducer.ts","api/chat-api.ts","redux/chat-reducer.ts","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","api/auth-api.ts","redux/auth-reducer.ts","components/Header/Header.tsx","components/Login/Login.tsx","api/users-api.ts","redux/users-reducer.ts","redux/users-selectors.ts","components/common/Paginate/Pagination.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","redux/app-reducer.ts","components/Navbar/Navbar.tsx","components/Breadcrumb/BreadCrumb.tsx","App.tsx","reportWebVitals.js","redux/sidebar-reducer.ts","redux/redux-store.ts","index.tsx","api/api.ts","components/common/FormsControls/FormsControls.module.css","api/profile-api.ts"],"names":["TextArea","Input","BaseInput","props","className","s","inputWrapper","style","fontWeight","htmlFor","title","input","touched","errors","inputError","type","placeholder","name","onChange","onBlur","value","error","InputLow","color","isError","Textarea","textarea","module","exports","initialState","posts","id","message","likesCount","newPostText","profile","status","actions","addPost","post","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","photos","setError","err","getUserProfile","userId","dispatch","a","profileAPI","data","getStatus","getUserStatus","Number","updateStatus","resultCode","updateProfile","profileData","success","messages","profileReducer","state","action","newPost","filter","p","dialogs","sendMessage","dialogsReducer","subscribers","ws","closeHendler","console","log","forEach","setTimeout","connectWS","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","_newMessagesHandler","newMessagesHandlerCreator","_newStatusHandler","newStatusHandlerCreator","startMessagesListening","stopMessagesListening","chatReducer","map","m","v1","index","arr","length","Preloader","preloader","src","alt","preloaderImg","authAPI","instance","get","res","loginData","delete","email","login","isAuth","errorMessage","captcha","meProfile","payload","getAuthUserData","getMeProfile","getCaptcha","url","authReducer","Header","Layout","history","useHistory","useDispatch","useSelector","auth","photo","large","display","justifyContent","theme","mode","defaultSelectedKeys","Item","to","placement","marginRight","mockPhoto","onClick","getState","info","LoginForm","authLogin","useEffect","validationsSchema","Yup","shape","required","password","typeError","max","confirmPassword","oneOf","formik","useFormik","initialValues","rememberMe","onSubmit","values","resetForm","validationSchema","handleSubmit","handleChange","handleBlur","checked","disabled","dirty","isValid","htmlType","Login","ResultCodeEnum","Success","fieldsErrors","ResultCodeForCaptcha","CaptchaIsRequired","usersAPI","getUsers","currentPage","pageSize","term","friend","params","count","page","follow","unFollow","users","totalUsersCount","isFetching","followingInProgress","followedStatus","size","items","totalCount","_followUnfollowFlow","apiMethod","followStatus","usersReducer","user","followed","getUsersState","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","PaginationBase","onPaginationChanged","x","marginBottom","total","current","pageSizeOptions","Meta","Card","User","ownerId","xl","span","hoverable","width","cover","small","userPhoto","maxWidth","border","loading","some","stopPropagation","UserDeleteOutlined","fontSize","UserAddOutlined","description","Option","Select","UsersSearchForm","React","memo","enableReinitialize","String","onFilterChanged","setFieldValue","onSelect","marginLeft","SearchOutlined","Users","query","queryString","location","search","queryParams","pathname","stringify","bind","unFollowThunk","followThunk","Pagination","active","paragraph","rows","gutter","initialized","appReducer","SubMenu","Menu","Sider","Navbar","useState","collapsed","setCollapsed","collapsible","onCollapse","breakpoint","minHeight","height","icon","UserOutlined","LaptopOutlined","BreadCrumb","breadcrumbItem","setBreadcrumbItem","useLocation","replace","margin","Content","Footer","Dialogs","lazy","Profile","ChatPage","ErrorPage","App","app","transitions","useTransition","keys","from","transform","opacity","enter","leave","overflowX","padding","item","div","fallback","exact","path","textAlign","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","render","document","getElementById","apiKey","axios","create","withCredentials","baseURL","headers","put","savePhoto","file","formData","FormData","append"],"mappings":"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","file":"static/js/main.c18c1093.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import s from './FormsControls.module.css';\nimport { Input } from 'antd';\nconst { TextArea } = Input;\n\ntype InputPropsType = {\n    name: string;\n    placeholder: string;\n    title?: string;\n    value: any;\n    htmlFor?: string;\n    type?: string;\n    touched?: any;\n    errors?: any;\n    isError?: any;\n    onBlur?: any;\n    onChange: any;\n};\nexport const BaseInput: React.FC<InputPropsType> = (props) => {\n    return (\n        <div className={s.inputWrapper}>\n            <label style={{ fontWeight: 'bold' }} htmlFor={props.htmlFor}>\n                {props.title}\n            </label>\n            <br />\n            <Input\n                className={`${s.input} ${props.touched && props.errors && s.inputError}`}\n                type={props.type}\n                placeholder={props.placeholder}\n                name={props.name}\n                onChange={props.onChange}\n                onBlur={props.onBlur}\n                value={props.value}\n            />\n            {props.touched && props.errors && <p className={s.error}>{props.errors}</p>}\n        </div>\n    );\n};\n\nexport const InputLow: React.FC<InputPropsType> = (props) => {\n    return (\n        <div>\n            <label htmlFor={props.htmlFor} style={{ color: props.isError && 'red', fontWeight: 'bold' }}>\n                {props.title}\n            </label>\n            <br />\n            <Input\n                className={`${s.input} ${props.isError && s.inputError}`}\n                type={props.type}\n                placeholder={props.placeholder}\n                name={props.name}\n                onChange={props.onChange}\n                onBlur={props.onBlur}\n                value={props.value}\n            />\n            {props.touched && props.errors && <p className={s.error}>{props.errors}</p>}\n        </div>\n    );\n};\n\ntype TextareaPropsType = {\n    name: string;\n    onBlur: any;\n    onChange: any;\n    placeholder: string;\n    value: string;\n};\nexport const Textarea: React.FC<TextareaPropsType> = (props) => {\n    return (\n        <div>\n            <TextArea className={s.textarea} {...props} />\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2bI7Q\",\"preloaderImg\":\"Preloader_preloaderImg__x0a5q\"};","import { BaseThunkType, InferActionsTypes } from './redux-store';\r\nimport { profileAPI } from '../api/profile-api';\r\nimport { PostType, ProfileType, PhotosType } from './../types/types';\r\nimport { message } from 'antd';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, message: \"It's my post\", likesCount: 11 },\r\n        { id: 3, message: 'I have the best workplace', likesCount: 11 },\r\n        { id: 4, message: 'The weather is great today, but tomorrow it will be bad', likesCount: 11 }\r\n    ] as PostType[],\r\n    newPostText: '' as string,\r\n    profile: null as ProfileType | null,\r\n    status: '' as string,\r\n    errors: [] as string[]\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/ADD_POST':\r\n            const newPost = {\r\n                id: 5,\r\n                message: action.post,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        case 'SN/PROFILE/SET_USER_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case 'SN/PROFILE/SET_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case 'SN/PROFILE/SEVE_PHOTO_SUCCESS':\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos } as ProfileType\r\n            };\r\n        case 'SN/PROFILE/SET_ERROR':\r\n            return {\r\n                ...state,\r\n                errors: action.err\r\n            };\r\n        case 'SN/PROFILE/DELETE_POST':\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter((p) => p.id !== action.postId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const actions = {\r\n    addPost: (post: string) => ({ type: 'SN/PROFILE/ADD_POST', post } as const),\r\n    setUserProfile: (profile: ProfileType) => ({ type: 'SN/PROFILE/SET_USER_PROFILE', profile } as const),\r\n    setStatus: (status: string) => ({ type: 'SN/PROFILE/SET_STATUS', status } as const),\r\n    deletePost: (postId: number) => ({ type: 'SN/PROFILE/DELETE_POST', postId } as const),\r\n    savePhotoSuccess: (photos: PhotosType) => ({ type: 'SN/PROFILE/SEVE_PHOTO_SUCCESS', photos } as const),\r\n    setError: (err: string[]) => ({ type: 'SN/PROFILE/SET_ERROR', err } as const)\r\n};\r\n\r\nexport const getUserProfile =\r\n    (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.getUserProfile(userId);\r\n        dispatch(actions.setUserProfile(data));\r\n    };\r\n\r\nexport const getStatus =\r\n    (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.getUserStatus(Number(userId));\r\n        dispatch(actions.setStatus(data));\r\n    };\r\n\r\nexport const updateStatus =\r\n    (status: string): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.updateStatus(status);\r\n        if (data.resultCode === 0) {\r\n            dispatch(actions.setStatus(status));\r\n        }\r\n    };\r\n\r\nexport const savePhoto =\r\n    (file: File): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.savePhoto(file);\r\n        if (data.resultCode === 0) {\r\n            dispatch(actions.savePhotoSuccess(data.data.photos));\r\n        }\r\n    };\r\n\r\nexport const updateProfile =\r\n    (profileData: ProfileType): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.updateProfile(profileData);\r\n        if (data.resultCode === 0) {\r\n            dispatch(getUserProfile(profileData.userId));\r\n            dispatch(actions.setError([]));\r\n            message.success('Profile is saved');\r\n        } else {\r\n            dispatch(actions.setError(data.messages));\r\n        }\r\n    };\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;\r\n\r\nexport default profileReducer;\r\n","import { InferActionsTypes } from './redux-store';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Kirill' },\r\n        { id: 2, name: 'Andrew' },\r\n        { id: 3, name: 'Sveta' },\r\n        { id: 4, name: 'Sasha' },\r\n        { id: 5, name: 'Viktor' },\r\n        { id: 6, name: 'Valera' }\r\n    ] as DialogType[],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Hello' },\r\n        { id: 3, message: 'Bye' },\r\n        { id: 4, message: 'Find phone' },\r\n        { id: 5, message: 'Hello' }\r\n    ] as MessageType[]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsTypes): InitialDialogsStateType => {\r\n    switch (action.type) {\r\n        case 'SN/DIALOGS/SEND_MESSAGE':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 6, message: action.message }]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const actions = {\r\n    sendMessage: (message: string) => ({ type: 'SN/DIALOGS/SEND_MESSAGE', message } as const)\r\n};\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\nexport type InitialDialogsStateType = typeof initialState;\r\nexport type DialogType = {\r\n    id: number;\r\n    name: string;\r\n};\r\nexport type MessageType = {\r\n    id: number;\r\n    message: string;\r\n};\r\n\r\nexport default dialogsReducer;\r\n","let subscribers = {\n    'messages-received': [] as MessagesReceivedSubscriberType[],\n    'status-changed': [] as StatusChangedSubscriberType[]\n};\n\nlet ws: WebSocket | null = null;\n\nconst closeHendler = () => {\n    console.log('close WS');\n    subscribers['status-changed'].forEach((s) => s('pending'));\n    setTimeout(() => {\n        connectWS();\n    }, 3000);\n};\n\nconst messageHandler = (e: MessageEvent) => {\n    const newMessages = JSON.parse(e.data);\n    subscribers['messages-received'].forEach((s) => s(newMessages));\n};\n\nconst openHandler = () => {\n    subscribers['status-changed'].forEach((s) => s('ready'));\n};\n\nconst errorHandler = () => {\n    subscribers['status-changed'].forEach((s) => s('error'));\n    console.error('Restart page');\n};\n\nconst cleanUp = () => {\n    ws?.removeEventListener('close', closeHendler);\n    ws?.removeEventListener('message', messageHandler);\n    ws?.removeEventListener('open', openHandler);\n    ws?.removeEventListener('error', errorHandler);\n};\n\nexport function connectWS() {\n    cleanUp();\n    ws?.close();\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\n    subscribers['status-changed'].forEach((s) => s('pending'));\n    ws.addEventListener('close', closeHendler);\n    ws.addEventListener('message', messageHandler);\n    ws.addEventListener('open', openHandler);\n    ws.addEventListener('error', errorHandler);\n}\n\nexport const chatAPI = {\n    start() {\n        connectWS();\n    },\n    stop() {\n        subscribers['messages-received'] = [];\n        subscribers['status-changed'] = [];\n        cleanUp();\n        ws?.close();\n    },\n    subscribe(\n        eventName: EventsNamesType,\n        callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType\n    ) {\n        // @ts-ignore\n        subscribers[eventName].push(callback);\n        return () => {\n            // @ts-ignore\n            subscribers[eventName] = subscribers[eventName].filter((s) => s !== callback);\n        };\n    },\n    unsubscribe(\n        eventName: EventsNamesType,\n        callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType\n    ) {\n        // @ts-ignore\n        subscribers[eventName] = subscribers[eventName].filter((s) => s !== callback);\n    },\n    sendMessage(message: string) {\n        ws?.send(message);\n    }\n};\n\ntype EventsNamesType = 'messages-received' | 'status-changed';\nexport type MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void;\nexport type StatusChangedSubscriberType = (status: StatusType) => void;\nexport type StatusType = 'pending' | 'ready' | 'error';\n\nexport type ChatMessageAPIType = {\n    message: string;\n    photo: string;\n    userId: number;\n    userName: string;\n};\n","import { Dispatch } from 'redux';\r\nimport { chatAPI, ChatMessageAPIType, StatusType } from '../api/chat-api';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\nimport { v1 } from 'uuid';\r\n\r\nconst initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as StatusType\r\n};\r\n\r\nconst chatReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/CHAT/MESSAGES_RECEVIED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.messages.map((m) => ({ ...m, id: v1() }))].filter(\r\n                    (m, index, arr) => index >= arr.length - 100\r\n                )\r\n            };\r\n        case 'SN/CHAT/STATUS_CHANGED':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    messagesReceived: (messages: ChatMessageAPIType[]) =>\r\n        ({ type: 'SN/CHAT/MESSAGES_RECEVIED', messages } as const),\r\n    statusChanged: (status: StatusType) => ({ type: 'SN/CHAT/STATUS_CHANGED', status } as const)\r\n};\r\n\r\nlet _newMessagesHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\r\n\r\nconst newMessagesHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessagesHandler === null) {\r\n        _newMessagesHandler = (messages) => {\r\n            dispatch(actions.messagesReceived(messages));\r\n        };\r\n    }\r\n\r\n    return _newMessagesHandler;\r\n};\r\n\r\nlet _newStatusHandler: ((status: StatusType) => void) | null = null;\r\n\r\nconst newStatusHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newStatusHandler === null) {\r\n        _newStatusHandler = (status) => {\r\n            dispatch(actions.statusChanged(status));\r\n        };\r\n    }\r\n\r\n    return _newStatusHandler;\r\n};\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.start();\r\n    chatAPI.subscribe('messages-received', newMessagesHandlerCreator(dispatch));\r\n    chatAPI.subscribe('status-changed', newStatusHandlerCreator(dispatch));\r\n};\r\n\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe('messages-received', newMessagesHandlerCreator(dispatch));\r\n    chatAPI.unsubscribe('status-changed', newStatusHandlerCreator(dispatch));\r\n    chatAPI.stop();\r\n};\r\n\r\nexport const sendMessage =\r\n    (message: string): ThunkType =>\r\n    async () => {\r\n        chatAPI.sendMessage(message);\r\n    };\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;\r\nexport type ChatMessageType = ChatMessageAPIType & { id: string };\r\nexport type InitialStateType = typeof initialState;\r\n\r\nexport default chatReducer;\r\n","export default __webpack_public_path__ + \"static/media/preloader.86c721f1.svg\";","import s from './Preloader.module.css';\nimport preloader from '../../../assets/images/preloader.svg';\n\nconst Preloader = () => {\n    return (\n        <div className={s.preloader}>\n            <img src={preloader} alt=\"preloader\" className={s.preloaderImg} />\n        </div>\n    );\n};\n\nexport default Preloader;\n","import { loginData } from './../redux/auth-reducer';\nimport { instance, APIResponseType } from './api';\n\nexport type MeResponseDataType = {\n    id: number;\n    email: string;\n    login: string;\n};\n\nexport type GetCaptchaResponseType = {\n    url: string;\n};\n\nexport type LoginResponseType = {\n    data: { userId: number };\n};\n\nexport const authAPI = {\n    async me() {\n        const res = await instance.get<APIResponseType<MeResponseDataType>>(`auth/me`);\n        return res.data;\n    },\n\n    async login(loginData: loginData) {\n        const res = await instance.post<APIResponseType<LoginResponseType>>('/auth/login', { ...loginData });\n        return res.data;\n    },\n\n    async logout() {\n        const res = await instance.delete('/auth/login');\n        return res.data;\n    },\n\n    async getCaptcha() {\n        return await instance.delete<GetCaptchaResponseType>('/security/get-captcha-url');\n    },\n};\n","import { ProfileType } from './../types/types';\r\nimport { ResultCodeEnum, ResultCodeForCaptcha } from '../api/api';\r\nimport { authAPI } from '../api/auth-api';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\nimport { message } from 'antd';\r\nimport { profileAPI } from '../api/profile-api';\r\n\r\nconst initialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    errorMessage: null as string | null,\r\n    captcha: null as string | null,\r\n    meProfile: null as ProfileType | null\r\n};\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/AUTH/SET_USER_DATA':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case 'SN/AUTH/SET_LOGOUT_USER_DATA':\r\n            return {\r\n                ...initialState\r\n            };\r\n        case 'SN/AUTH/SET_ERROR':\r\n            return {\r\n                ...state,\r\n                errorMessage: action.error\r\n            };\r\n        case 'SN/AUTH/SET_CAPTCHA':\r\n            return {\r\n                ...state,\r\n                captcha: action.captcha\r\n            };\r\n        case 'SN/AUTH/SET_ME_PROFILE':\r\n            return {\r\n                ...state,\r\n                meProfile: action.profile\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setAuthUserData: (userId: number, email: string, login: string, isAuth: boolean) =>\r\n        ({ type: 'SN/AUTH/SET_USER_DATA', payload: { userId, email, login, isAuth } } as const),\r\n    setCaptcha: (captcha: string | null) => ({ type: 'SN/AUTH/SET_CAPTCHA', captcha } as const),\r\n    setLogoutUserData: () => ({ type: 'SN/AUTH/SET_LOGOUT_USER_DATA' } as const),\r\n    setError: (error: string) => ({ type: 'SN/AUTH/SET_ERROR', error } as const),\r\n    setMeProfile: (profile: ProfileType) => ({ type: 'SN/AUTH/SET_ME_PROFILE', profile } as const)\r\n};\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    const data = await authAPI.me();\r\n    if (data.resultCode === 0) {\r\n        const { id, login, email } = data.data;\r\n        dispatch(actions.setAuthUserData(id, email, login, true));\r\n        dispatch(getMeProfile(id));\r\n    }\r\n};\r\n\r\nexport const getMeProfile =\r\n    (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        const data = await profileAPI.getUserProfile(userId);\r\n        dispatch(actions.setMeProfile(data));\r\n    };\r\n\r\nexport const login =\r\n    (loginData: loginData): ThunkType =>\r\n    async (dispatch, getState) => {\r\n        const data = await authAPI.login(loginData);\r\n        if (data.resultCode === ResultCodeEnum.Success) {\r\n            await dispatch(getAuthUserData());\r\n            message.info(`Hello ${getState().auth.login}!`);\r\n        } else {\r\n            dispatch(actions.setError(data.messages.length ? data.messages[0] : 'Some error'));\r\n            !data?.fieldsErrors?.length && dispatch(actions.setCaptcha(null));\r\n            if (data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired && data?.fieldsErrors?.length) {\r\n                dispatch(getCaptcha());\r\n            }\r\n        }\r\n    };\r\n\r\nexport const getCaptcha = (): ThunkType => async (dispatch) => {\r\n    const res = await authAPI.getCaptcha();\r\n    dispatch(actions.setCaptcha(res.data.url));\r\n};\r\n\r\nexport const logout = (): ThunkType => async (dispatch, getState) => {\r\n    message.info(`Bye ${getState().auth.login}!`);\r\n    const data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.setLogoutUserData());\r\n    }\r\n};\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;\r\nexport type InitialStateType = typeof initialState;\r\nexport type loginData = {\r\n    email: string | null;\r\n    password: string | null;\r\n    rememberMe: boolean | null;\r\n    captcha: string | null;\r\n};\r\n\r\nexport default authReducer;\r\n","import mockPhoto from '../../assets/images/avatar.png';\r\nimport { Avatar, Col, Layout, Menu, Row, Button, Tooltip } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\nconst Header: React.FC = () => {\r\n    const { Header } = Layout;\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\r\n    const login = useSelector((state: AppStateType) => state.auth.login);\r\n    const photo = useSelector((state: AppStateType) => state.auth.meProfile?.photos?.large);\r\n\r\n    const getLogout = () => {\r\n        dispatch(logout());\r\n        history.push('/login');\r\n    };\r\n\r\n    return (\r\n        <Header>\r\n            <div className=\"logo\" />\r\n            <Row style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Col>\r\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n                        <Menu.Item key=\"1\">\r\n                            <Link to=\"/developers\">Developers</Link>\r\n                        </Menu.Item>\r\n                    </Menu>\r\n                </Col>\r\n                {isAuth ? (\r\n                    <div style={{ display: 'flex' }}>\r\n                        <Col>\r\n                            <Tooltip placement=\"bottom\" title={login || ''}>\r\n                                <Link to={'/profile'} style={{ marginRight: 15 }}>\r\n                                    <Avatar src={photo || mockPhoto} />\r\n                                </Link>\r\n                            </Tooltip>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button onClick={getLogout}>Log out</Button>\r\n                        </Col>\r\n                    </div>\r\n                ) : (\r\n                    <Col>\r\n                        <Button>\r\n                            <Link to=\"/login\">Login</Link>\r\n                        </Button>\r\n                    </Col>\r\n                )}\r\n            </Row>\r\n        </Header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import { useFormik } from 'formik';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../redux/auth-reducer';\nimport * as Yup from 'yup';\nimport { BaseInput } from '../common/FormsControls/FormsControls';\nimport { Redirect } from 'react-router';\nimport { AppStateType } from '../../redux/redux-store';\nimport { Button, message, Checkbox } from 'antd';\nimport { useEffect } from 'react';\n\nconst Login: React.FC = () => {\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\n    const dispatch = useDispatch();\n\n    if (isAuth) {\n        return <Redirect to={'/profile'} />;\n    }\n\n    const authLogin = (values: LoginValuesType) => {\n        const loginData = { ...values };\n        for (const value in loginData) {\n            if (value === 'confirmPassword') delete loginData[value];\n        }\n        dispatch(login(loginData));\n    };\n\n    return (\n        <div>\n            <h1>Login</h1>\n            <LoginForm authLogin={authLogin} />\n        </div>\n    );\n};\n\nexport type LoginValuesType = {\n    email: string;\n    password: string;\n    confirmPassword?: string;\n    captcha: string;\n    rememberMe: boolean;\n};\n\ntype LoginFormPropsType = {\n    authLogin: (values: LoginValuesType) => void;\n};\nconst LoginForm: React.FC<LoginFormPropsType> = ({ authLogin }) => {\n    const captcha = useSelector((state: AppStateType) => state.auth.captcha);\n    const errorMessage = useSelector((state: AppStateType) => state.auth.errorMessage);\n\n    useEffect(() => {\n        if (errorMessage) message.error(errorMessage);\n    }, [errorMessage]);\n\n    const validationsSchema = Yup.object<Record<keyof LoginValuesType, Yup.AnySchema>>().shape({\n        email: Yup.string().email('  email').required(' '),\n        password: Yup.string()\n            .typeError('  ')\n            .max(15, 'Must be 15 characters or less')\n            .required(' '),\n        confirmPassword: Yup.string()\n            .oneOf([Yup.ref('password')], '  ')\n            .required('  '),\n        //@ts-ignore\n        captcha: captcha && Yup.string().required(' ')\n    });\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            captcha: '',\n            rememberMe: false\n        },\n        onSubmit: (values: any, { resetForm }) => {\n            authLogin(values);\n            values.captcha = '';\n\n            // errorMessage && resetForm();\n        },\n        validationSchema: validationsSchema\n    });\n\n    const loginInputs = [\n        { name: 'email', title: '', placeholder: 'Login', type: 'text' },\n        { name: 'password', title: '', placeholder: 'Password', type: 'password' },\n        {\n            name: 'confirmPassword',\n            title: ' ',\n            placeholder: 'Confirm password',\n            type: 'password'\n        }\n    ];\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            {loginInputs.map((input, index) => (\n                <BaseInput\n                    key={index}\n                    title={input.title}\n                    type={input.type}\n                    placeholder={input.placeholder}\n                    name={input.name}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    value={formik.values[input.name]}\n                    touched={formik.touched[input.name]}\n                    errors={formik.errors[input.name]}\n                />\n            ))}\n            <div>\n                <Checkbox\n                    onChange={formik.handleChange}\n                    checked={formik.values.rememberMe}\n                    name={'rememberMe'}\n                >\n                    remember me\n                </Checkbox>\n            </div>\n            {captcha && (\n                <div>\n                    <img src={captcha} alt=\"captcha\" />\n                    <BaseInput\n                        type=\"text\"\n                        name={'captcha'}\n                        value={formik.values.captcha}\n                        onBlur={formik.handleBlur}\n                        onChange={formik.handleChange}\n                        placeholder={'input captcha'}\n                    />\n                </div>\n            )}\n            <div>\n                <p style={{ color: 'red' }}>{errorMessage}</p>\n                <Button disabled={!formik.dirty || !formik.isValid} htmlType=\"submit\">\n                    Login\n                </Button>\n            </div>\n        </form>\n    );\n};\n\nexport default Login;\n","import { GetItemsType, instance, APIResponseType } from './api';\n\nexport const usersAPI = {\n    async getUsers(currentPage = 1, pageSize = 10, term = '', friend: null | boolean = null) {\n        const res = await instance.get<GetItemsType>(`users`, {\n            params: {\n                count: pageSize,\n                page: currentPage,\n                term: term,\n                friend: friend\n            }\n        });\n        return res.data;\n    },\n\n    async follow(id: number) {\n        const res = await instance.post<APIResponseType>(`follow/${id}`, null);\n        return res.data;\n    },\n\n    async unFollow(id: number) {\n        const res = await instance.delete<APIResponseType>(`follow/${id}`);\n        return res.data;\n    }\n};\n","import { BaseThunkType, InferActionsTypes } from './redux-store';\nimport { UserType } from './../types/types';\nimport { Dispatch } from 'redux';\nimport { usersAPI } from '../api/users-api';\nimport { APIResponseType } from '../api/api';\nimport { message } from 'antd';\n\nconst initialState = {\n    users: [] as UserType[],\n    pageSize: 8,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [] as number[], //array of users ids,\n    filter: {\n        term: '',\n        friend: null as null | boolean\n    }\n};\n\nconst usersReducer = (state = initialState, action: ActionsTypes): UsersInitialStateType => {\n    switch (action.type) {\n        case 'SN/USERS/FOLLOW_UNFOLLOW':\n            return {\n                ...state,\n                users: state.users.map((user) => {\n                    if (user.id === action.userId) {\n                        return { ...user, followed: action.followedStatus };\n                    }\n                    return user;\n                })\n            };\n        case 'SN/USERS/SET_USERS':\n            return {\n                ...state,\n                users: [...action.users]\n            };\n        case 'SN/USERS/SET_CURRENT_PAGE':\n            return {\n                ...state,\n                currentPage: action.page\n            };\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT':\n            return {\n                ...state,\n                totalUsersCount: action.count\n            };\n        case 'SN/USERS/TOGGLE_IS_FETCHING':\n            return {\n                ...state,\n                isFetching: action.isFetching\n            };\n        case 'SN/USERS/SET_FILTER':\n            return {\n                ...state,\n                filter: action.payload\n            };\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter((id) => id !== action.userId)\n            };\n        case 'SN/USERS/SET_PAGE_SIZE':\n            return {\n                ...state,\n                pageSize: action.size\n            };\n        default:\n            return state;\n    }\n};\n\nexport const actions = {\n    setFollowUnfollow: (userId: number, followedStatus: boolean) =>\n        ({ type: 'SN/USERS/FOLLOW_UNFOLLOW', userId, followedStatus } as const),\n    setUsers: (users: UserType[]) => ({ type: 'SN/USERS/SET_USERS', users } as const),\n    setFilter: (filter: FilterType) => ({ type: 'SN/USERS/SET_FILTER', payload: filter } as const),\n    setCurrentPage: (page: number) => ({ type: 'SN/USERS/SET_CURRENT_PAGE', page } as const),\n    setPageSize: (size: number) => ({ type: 'SN/USERS/SET_PAGE_SIZE', size } as const),\n    setTotalUsersCount: (count: number) => ({ type: 'SN/USERS/SET_TOTAL_USERS_COUNT', count } as const),\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching } as const),\n    toggleFollowingProgress: (isFetching: boolean, userId: number) =>\n        ({ type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\n};\n\nexport const getUsers =\n    (currentPage: number, pageSize: number, filter: FilterType): ThunkType =>\n    async (dispatch, getState) => {\n        dispatch(actions.toggleIsFetching(true));\n        dispatch(actions.setCurrentPage(currentPage));\n        dispatch(actions.setPageSize(pageSize));\n        dispatch(actions.setFilter(filter));\n\n        const data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\n        dispatch(actions.setUsers(data.items));\n        dispatch(actions.setTotalUsersCount(data.totalCount));\n        dispatch(actions.toggleIsFetching(false));\n    };\n\nexport const followThunk =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), true);\n    };\n\nexport const unFollowThunk =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), false);\n    };\n\nconst _followUnfollowFlow = async (\n    dispatch: Dispatch<ActionsTypes>,\n    userId: number,\n    apiMethod: (userId: number) => Promise<APIResponseType>,\n    followStatus: boolean\n) => {\n    dispatch(actions.toggleFollowingProgress(true, userId));\n    const data = await apiMethod(userId);\n    if (data.resultCode === 0) {\n        dispatch(actions.setFollowUnfollow(userId, followStatus));\n    } else message.info(`An error occurred in the process`);\n    dispatch(actions.toggleFollowingProgress(false, userId));\n};\n\nexport type UsersInitialStateType = typeof initialState;\nexport type FilterType = typeof initialState.filter;\ntype ActionsTypes = InferActionsTypes<typeof actions>;\n// type GetStateType = () => AppStateType;\ntype ThunkType = BaseThunkType<ActionsTypes>;\n\nexport default usersReducer;\n","import { AppStateType } from './redux-store';\nimport { createSelector } from 'reselect';\n\nexport const getUsersStateSelector = (state: AppStateType) => {\n    return state.usersPage.users;\n};\n\nexport const getUsersState = createSelector(getUsersStateSelector, (users) => {\n    return users.filter((u) => true);\n});\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress;\n};\n\nexport const getUsersFilter = (state: AppStateType) => {\n    return state.usersPage.filter;\n};\n","import { Pagination } from 'antd';\n\ntype PropsType = {\n    portionSize?: number;\n    currentPage?: number;\n    pageSize: number;\n    totalUsersCount: number;\n    onPaginationChanged?: (page: number, size?: number) => void;\n};\n\nconst PaginationBase: React.FC<PropsType> = ({\n    currentPage = 1,\n    onPaginationChanged = (x) => x,\n    pageSize,\n    totalUsersCount\n}) => {\n    return (\n        <div>\n            <Pagination\n                style={{ marginBottom: 10 }}\n                pageSize={pageSize}\n                total={totalUsersCount}\n                current={currentPage}\n                onChange={(page, pageSize) => {\n                    onPaginationChanged(page, pageSize);\n                }}\n                pageSizeOptions={[8, 16, 32, 96]}\n            />\n        </div>\n    );\n};\n\nexport default PaginationBase;\n","import userPhoto from '../../assets/images/avatar.png';\nimport { useHistory } from 'react-router-dom';\nimport { UserType } from '../../types/types';\nimport { useSelector } from 'react-redux';\nimport { AppStateType } from '../../redux/redux-store';\nimport { Card, Col, Tooltip, message, Button } from 'antd';\nimport { UserAddOutlined, UserDeleteOutlined } from '@ant-design/icons';\n\nconst { Meta } = Card;\n\ntype PropsType = {\n    user: UserType;\n    followingInProgress: number[];\n    unFollow: (id: number) => void;\n    follow: (id: number) => void;\n};\n\nconst User: React.FC<PropsType> = ({ user, followingInProgress, unFollow, follow }) => {\n    const ownerId = useSelector((state: AppStateType) => state.auth.userId);\n    const history = useHistory();\n\n    return (\n        <Col className=\"gutter-row\" xl={{ span: 6 }}>\n            <Card\n                hoverable\n                style={{ width: 210 }}\n                cover={\n                    <img\n                        src={user.photos.small ? user.photos.small : userPhoto}\n                        style={{ maxWidth: 250 }}\n                        alt=\"user\"\n                    />\n                }\n                onClick={() => {\n                    history.push('/profile/' + user.id);\n                }}\n                actions={[\n                    user.followed ? (\n                        <Tooltip placement=\"right\" title={`Unfollow ${user.name}`}>\n                            <Button\n                                style={{ border: 0, width: '100%' }}\n                                loading={followingInProgress.some((id: number) => id === user.id)}\n                                key=\"unfollow\"\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    unFollow(user.id);\n                                    message.info(`You unfollow from ${user.name}`);\n                                }}\n                            >\n                                <UserDeleteOutlined style={{ color: '#ff7070', fontSize: 24 }} />\n                            </Button>\n                        </Tooltip>\n                    ) : (\n                        <Tooltip placement=\"right\" title={`Follow ${user.name}`}>\n                            <Button\n                                style={{ border: 0, width: '100%' }}\n                                loading={\n                                    followingInProgress.some((id: number) => id === user.id) ||\n                                    user.id === ownerId\n                                }\n                                key=\"follow\"\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    follow(user.id);\n                                    message.success(`You follow from ${user.name}`);\n                                }}\n                            >\n                                <UserAddOutlined style={{ color: '#00810d', fontSize: 24 }} />\n                            </Button>\n                        </Tooltip>\n                    )\n                ]}\n            >\n                <Meta title={user.name} description={user.status} />\n            </Card>\n        </Col>\n    );\n};\n\nexport default User;\n","import { useFormik } from 'formik';\nimport { FilterType } from '../../redux/users-reducer';\nimport * as Yup from 'yup';\nimport React from 'react';\nimport { getUsersFilter } from '../../redux/users-selectors';\nimport { useSelector } from 'react-redux';\nimport { Button, Select, Input } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\ntype PropsType = {\n    onFilterChanged: (filter: FilterType) => void;\n};\n\ntype FormType = {\n    term: string;\n    friend: 'true' | 'false' | 'null';\n};\n\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\n    const filter = useSelector(getUsersFilter);\n\n    const validationsSchema = Yup.object().shape({\n        term: Yup.string()\n    });\n\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            term: filter.term,\n            friend: String(filter.friend) as 'true' | 'false' | 'null'\n        },\n        onSubmit: (values: FormType) => {\n            const filter: FilterType = {\n                term: values.term,\n                friend: values.friend === 'null' ? null : values.friend === 'false' ? false : true\n            };\n            props.onFilterChanged(filter);\n        },\n        validationSchema: validationsSchema\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit} style={{ marginBottom: 10 }}>\n            <Input\n                name={'term'}\n                style={{ width: 230 }}\n                onChange={formik.handleChange}\n                value={formik.values.term}\n                type={'text'}\n            />\n            <Select\n                value={formik.values.friend}\n                style={{ width: 130 }}\n                onChange={(value) => {\n                    formik.setFieldValue('friend', value);\n                }}\n                onSelect={formik.handleChange}\n            >\n                <Option value=\"null\">All</Option>\n                <Option value=\"true\">Only followed</Option>\n                <Option value=\"false\">Only unfollowed</Option>\n            </Select>\n            <Button style={{ marginLeft: 30 }} disabled={!formik.isValid} htmlType=\"submit\">\n                <SearchOutlined />\n            </Button>\n        </form>\n    );\n});\n\nexport default UsersSearchForm;\n","import { useEffect } from 'react';\nimport queryString from 'query-string';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { FilterType, followThunk, getUsers, unFollowThunk } from '../../redux/users-reducer';\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersFilter,\n    getUsersState\n} from '../../redux/users-selectors';\nimport { UserType } from '../../types/types';\nimport Pagination from '../common/Paginate/Pagination';\nimport User from './User';\nimport UsersSearchForm from './UsersSearchForm';\nimport { Row, BackTop, Skeleton } from 'antd';\n\ntype QueryParamsType = {\n    term?: string;\n    page?: string;\n    friend?: string;\n    size?: string;\n};\n\nconst Users: React.FC = () => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    let filter = useSelector(getUsersFilter);\n    let currentPage = useSelector(getCurrentPage);\n    let pageSize = useSelector(getPageSize);\n    const totalUsersCount = useSelector(getTotalUsersCount);\n    const isFetching = useSelector(getIsFetching);\n    const users = useSelector(getUsersState);\n    const followingInProgress = useSelector(getFollowingInProgress);\n\n    useEffect(() => {\n        const query = queryString.parse(history.location.search) as QueryParamsType;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.page) currentPage = Number(query.page);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.size) pageSize = Number(query.size);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.term) filter = { ...filter, term: query.term };\n        if (query.friend)\n            filter = {\n                ...filter,\n                friend: query.friend === 'null' ? null : query.friend === 'true' ? true : false\n            };\n\n        dispatch(getUsers(currentPage, pageSize, filter));\n    }, []);\n\n    useEffect(() => {\n        const queryParams: QueryParamsType = {};\n        if (filter.term) queryParams.term = filter.term;\n        if (filter.friend !== null) queryParams.friend = String(filter.friend);\n        if (currentPage !== 1) queryParams.page = String(currentPage);\n        if (pageSize !== 5) queryParams.size = String(pageSize);\n        history.push({\n            pathname: '/developers',\n            search: queryString.stringify(queryParams)\n        });\n    }, [currentPage, filter.friend, filter.term, history, pageSize]);\n\n    const onPaginationChanged = (page: number, size: number = pageSize) => {\n        dispatch(getUsers(page, size, filter));\n    };\n\n    const onFilterChanged = (filter: FilterType) => {\n        dispatch(getUsers(1, pageSize, filter));\n    };\n\n    const unFollow = (userId: number) => {\n        dispatch(unFollowThunk(userId));\n    };\n\n    const follow = (userId: number) => {\n        dispatch(followThunk(userId));\n    };\n\n    return (\n        <div>\n            <UsersSearchForm onFilterChanged={onFilterChanged} />\n            <Pagination\n                currentPage={currentPage}\n                onPaginationChanged={onPaginationChanged}\n                totalUsersCount={totalUsersCount}\n                pageSize={pageSize}\n            />\n\n            {isFetching && <Skeleton active paragraph={{ rows: 10 }} />}\n\n            {!isFetching && (\n                <>\n                    <Row gutter={[16, 24]}>\n                        {users.map((user: UserType) => (\n                            <User\n                                user={user}\n                                followingInProgress={followingInProgress}\n                                unFollow={unFollow}\n                                follow={follow}\n                                key={user.id}\n                            />\n                        ))}\n                    </Row>\n                    <BackTop />\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default Users;\n","import { getAuthUserData } from './auth-reducer';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/APP/SET_INITIALIZE':\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    setInitializedSuccess: () => ({ type: 'SN/APP/SET_INITIALIZE' } as const),\r\n};\r\n\r\nexport const initializeApp = (): ThunkType => async (dispatch) => {\r\n    await dispatch(getAuthUserData());\r\n    dispatch(actions.setInitializedSuccess());\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;\r\n\r\nexport default appReducer;\r\n","import { Link } from 'react-router-dom';\r\nimport { LaptopOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { Layout, Menu } from 'antd';\r\nimport { useState } from 'react';\r\n\r\nconst { SubMenu } = Menu;\r\nconst { Sider } = Layout;\r\n\r\nexport const Navbar: React.FC = () => {\r\n    const [collapsed, setCollapsed] = useState<boolean>(false);\r\n\r\n    return (\r\n        <Sider\r\n            collapsible\r\n            collapsed={collapsed}\r\n            onCollapse={() => setCollapsed(!collapsed)}\r\n            breakpoint=\"md\"\r\n            style={{ minHeight: '100%' }}\r\n        >\r\n            <div className=\"logo\" />\r\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']} style={{ height: '100%' }}>\r\n                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My profile\">\r\n                    <Menu.Item key=\"1\">\r\n                        <Link to=\"/profile\">Profile</Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"2\">\r\n                        <Link to=\"/dialogs\">Messages</Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"3\">\r\n                        <Link to=\"/chat\">Chat</Link>\r\n                    </Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Developers\">\r\n                    <Menu.Item key=\"5\">\r\n                        <Link to=\"/developers\">Developers</Link>\r\n                    </Menu.Item>\r\n                </SubMenu>\r\n            </Menu>\r\n        </Sider>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Breadcrumb } from 'antd';\n\nexport const BreadCrumb: React.FC = () => {\n    const [breadcrumbItem, setBreadcrumbItem] = useState<string | null>(null);\n    const location = useLocation();\n\n    useEffect(() => {\n        setBreadcrumbItem(location.pathname.replace('/', ''));\n    }, [location]);\n\n    return (\n        <Breadcrumb style={{ margin: '16px 0' }}>\n            <Breadcrumb.Item>\n                <Link to=\"/profile\">Home</Link>\n            </Breadcrumb.Item>\n            {breadcrumbItem !== 'profile' && <Breadcrumb.Item>{breadcrumbItem}</Breadcrumb.Item>}\n        </Breadcrumb>\n    );\n};\n","import 'antd/dist/antd.css';\r\nimport React, { Suspense, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, Route, Switch, useLocation } from 'react-router-dom';\r\nimport { useTransition, animated } from 'react-spring';\r\nimport './App.css';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport Header from './components/Header/Header';\r\nimport Login from './components/Login/Login';\r\nimport Users from './components/Users/Users';\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport { AppStateType } from './redux/redux-store';\r\nimport { Layout, Skeleton } from 'antd';\r\nimport { Navbar } from './components/Navbar/Navbar';\r\nimport { BreadCrumb } from './components/Breadcrumb/BreadCrumb';\r\n\r\nconst { Content, Footer } = Layout;\r\n\r\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\r\nconst Profile = React.lazy(() => import('./pages/Profile'));\r\nconst ChatPage = React.lazy(() => import('./pages/ChatPage'));\r\nconst ErrorPage = React.lazy(() => import('./pages/ErrorPage'));\r\n\r\nconst App: React.FC = () => {\r\n    const initialized = useSelector((state: AppStateType) => state.app.initialized);\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp());\r\n    }, [dispatch]);\r\n\r\n    const transitions = useTransition(location, {\r\n        keys: (location) => location.pathname,\r\n        from: { display: 'none', transform: 'scale(0.9)', opacity: 0 },\r\n        enter: { display: 'block', transform: 'scale(1)', opacity: 1 },\r\n        leave: { display: 'none' }\r\n    });\r\n\r\n    if (!initialized) {\r\n        return <Preloader />;\r\n    }\r\n\r\n    return (\r\n        <Layout style={{ height: '100vh', overflowX: 'hidden' }}>\r\n            <Header />\r\n            <Content style={{ height: '100%' }}>\r\n                <Layout className=\"site-layout-background\" style={{ minHeight: '100%' }}>\r\n                    <Navbar />\r\n                    <Content style={{ padding: '0 24px', minHeight: '100%' }}>\r\n                        <BreadCrumb />\r\n                        {transitions((props, item) => (\r\n                            <animated.div style={props}>\r\n                                <Suspense fallback={<Skeleton active paragraph={{ rows: 6 }} />}>\r\n                                    <Switch location={item}>\r\n                                        <Route exact path=\"/\">\r\n                                            <Redirect from=\"/\" to=\"/profile\" />\r\n                                        </Route>\r\n                                        <Route path=\"/dialogs\">\r\n                                            <Dialogs />\r\n                                        </Route>\r\n                                        <Route path=\"/profile/:userId?\">\r\n                                            <Profile />\r\n                                        </Route>\r\n                                        <Route path=\"/developers\">\r\n                                            <Users />\r\n                                        </Route>\r\n                                        <Route path=\"/login\">\r\n                                            <Login />\r\n                                        </Route>\r\n                                        <Route path=\"/chat\">\r\n                                            <ChatPage />\r\n                                        </Route>\r\n                                        <Route path=\"*\">\r\n                                            <ErrorPage />\r\n                                        </Route>\r\n                                    </Switch>\r\n                                </Suspense>\r\n                            </animated.div>\r\n                        ))}\r\n                        <Footer style={{ textAlign: 'center' }}>Sosial network 2022</Footer>\r\n                    </Content>\r\n                </Layout>\r\n            </Content>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {};\r\ntype InitialStateType = typeof initialState;\r\nconst sidebarReducer = (state = initialState): InitialStateType => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { Action, applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\nimport chatReducer from './chat-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    sidebar: sidebarReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never;\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>;\r\n\r\n// @ts-ignore\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from 'axios';\r\nimport { UserType } from '../types/types';\r\n\r\nexport const apiKey = '8c4c198e-8707-4939-9726-3f8457232010';\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': apiKey\r\n    }\r\n});\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: UserType[];\r\n    totalCount: number;\r\n    error: string | null;\r\n};\r\n\r\nexport type APIResponseType<D = {}, RC = ResultCodeEnum | ResultCodeForCaptcha> = {\r\n    data: D;\r\n    messages: string[];\r\n    resultCode: RC;\r\n    fieldsErrors?: string[];\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"FormsControls_input__3jLnb\",\"inputError\":\"FormsControls_inputError__2Wqmr\",\"error\":\"FormsControls_error__wCG_K\",\"textarea\":\"FormsControls_textarea__2x2JD\"};","import { PhotosType, ProfileType } from '../types/types';\nimport { instance, APIResponseType } from './api';\n\ntype SavePhotoResponseType = {\n    photos: PhotosType;\n};\n\nexport const profileAPI = {\n    async getUserProfile(id: number) {\n        const res = await instance.get<ProfileType>(`profile/${id}`);\n        return res.data;\n    },\n\n    async getUserStatus(id: number) {\n        const res = await instance.get<string>(`profile/status/${id}`);\n        return res.data;\n    },\n\n    async updateStatus(status: string) {\n        const res = await instance.put<APIResponseType>(`profile/status/`, { status: status });\n        return res.data;\n    },\n\n    async savePhoto(file: File) {\n        const formData = new FormData();\n        formData.append('image', file);\n        const res = await instance.put<APIResponseType<SavePhotoResponseType>>(`profile/photo`, formData);\n        return res.data;\n    },\n\n    async updateProfile(profile: ProfileType) {\n        const res = await instance.put<APIResponseType>(`profile`, { ...profile });\n        return res.data;\n    }\n};\n"],"sourceRoot":""}