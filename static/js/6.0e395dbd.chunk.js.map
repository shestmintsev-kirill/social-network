{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/ProfileInfo/ProfileDescriptionForm.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","Hooks/useInput.ts","components/Profile/ProfileInfo/ProfileInfo.tsx","pages/Profile.tsx"],"names":["module","exports","Post","props","useState","likesCount","likes","setLikes","dislikes","setDislikes","action","setAction","userPhoto","useSelector","state","profilePage","profile","photos","large","userName","fullName","actions","title","onClick","prev","LikeFilled","LikeOutlined","className","DislikeFilled","DislikeOutlined","author","avatar","src","mockPhoto","alt","content","message","datetime","moment","format","fromNow","PostForm","dispatch","useDispatch","formik","useFormik","initialValues","post","onSubmit","values","resetForm","addPost","success","handleSubmit","name","onBlur","handleBlur","onChange","handleChange","value","placeholder","disabled","dirty","htmlType","MyPosts","postsElements","posts","map","p","i","s","postsBlock","active","style","position","bottom","Contacts","contacts","err","errors","e","split","replace","toLowerCase","Object","keys","contact","isError","some","ProfileDescriptionForm","closeEditMode","authorizedUserId","aboutMe","lookingForAJob","lookingForAJobDescription","facebook","github","instagram","mainLink","twitter","vk","website","youtube","a","updateProfile","userId","checked","isValid","length","index","color","ProfileStatus","isOwner","status","updateStatus","x","editMode","setEditMode","inputStatus","initialValue","setValue","target","useInput","maxWidth","autoFocus","type","placement","EditOutlined","marginLeft","ProfileDescription","profileContacts","entries","href","whiteSpace","rel","bordered","Item","label","ProfileInfo","history","useHistory","params","useParams","auth","useEffect","getUserProfile","getStatus","push","forEach","error","cover","rotate","withCredentials","info","file","response","data","savePhotoSuccess","headers","apiKey","showUploadList","icon","UploadOutlined","Profile"],"mappings":"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","file":"static/js/6.0e395dbd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","import React, { useState } from 'react';\nimport { Comment, Tooltip, Avatar } from 'antd';\nimport moment from 'moment';\nimport { DislikeOutlined, LikeOutlined, DislikeFilled, LikeFilled } from '@ant-design/icons';\nimport { useSelector } from 'react-redux';\nimport { AppStateType } from '../../../../redux/redux-store';\nimport mockPhoto from '../../../../assets/images/avatar.png';\n\ntype PropsType = {\n    message: string;\n    likesCount: number;\n};\n\nconst Post: React.FC<PropsType> = (props) => {\n    const [likes, setLikes] = useState(props.likesCount);\n    const [dislikes, setDislikes] = useState(0);\n    const [action, setAction] = useState('');\n    const userPhoto = useSelector((state: AppStateType) => state.profilePage.profile?.photos?.large);\n    const userName = useSelector((state: AppStateType) => state.profilePage.profile?.fullName);\n\n    const like = () => {\n        setLikes((prev) => prev + 1);\n        setDislikes(0);\n        setAction('liked');\n    };\n\n    const dislike = () => {\n        setLikes(props.likesCount);\n        setDislikes(1);\n        setAction('disliked');\n    };\n\n    const actions = [\n        <Tooltip key=\"comment-basic-like\" title=\"Like\">\n            <span onClick={like}>\n                {action === 'liked' ? <LikeFilled /> : <LikeOutlined />}\n                <span className=\"comment-action\">{likes}</span>\n            </span>\n        </Tooltip>,\n        <Tooltip key=\"comment-basic-dislike\" title=\"Dislike\">\n            <span onClick={dislike}>\n                {action === 'disliked' ? <DislikeFilled /> : <DislikeOutlined />}\n                <span className=\"comment-action\">{dislikes}</span>\n            </span>\n        </Tooltip>\n    ];\n\n    return (\n        <Comment\n            actions={actions}\n            author={userName}\n            avatar={<Avatar src={userPhoto || mockPhoto} alt=\"photo\" />}\n            content={<p>{props.message}</p>}\n            datetime={\n                <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\n                    <span>{moment().fromNow()}</span>\n                </Tooltip>\n            }\n        />\n    );\n};\n\nexport default Post;\n","import { useFormik } from 'formik';\nimport { PostType } from '../../../types/types';\nimport { Textarea } from '../../common/FormsControls/FormsControls';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport { Button, message, Skeleton } from 'antd';\nimport { AppStateType } from '../../../redux/redux-store';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { actions } from '../../../redux/profile-reducer';\n\nconst MyPosts: React.FC = () => {\n    const profile = useSelector((state: AppStateType) => state.profilePage.profile);\n    const posts = useSelector((state: AppStateType) => state.profilePage.posts);\n\n    const postsElements = posts.map((p: PostType, i: number) => (\n        <Post message={p.message} likesCount={p.likesCount} key={i} />\n    ));\n\n    if (!profile) {\n        return <Skeleton avatar active style={{ position: 'absolute', bottom: 100 }} />;\n    }\n\n    return (\n        <div className={s.postsBlock}>\n            <h3>My posts</h3>\n            <div>\n                <PostForm />\n            </div>\n            <div className={s.posts}>{postsElements}</div>\n        </div>\n    );\n};\n\ntype PostFormValues = {\n    post: string;\n};\n\nconst PostForm: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const formik = useFormik({\n        initialValues: {\n            post: ''\n        },\n        onSubmit: (values: PostFormValues, { resetForm }) => {\n            dispatch(actions.addPost(values.post));\n            resetForm();\n            message.success('New post added');\n        }\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <Textarea\n                name={'post'}\n                onBlur={formik.handleBlur}\n                onChange={formik.handleChange}\n                value={formik.values.post}\n                placeholder={'Enter your post'}\n            />\n            <div>\n                <Button disabled={!formik.dirty} htmlType=\"submit\">\n                    Add post\n                </Button>\n            </div>\n        </form>\n    );\n};\n\nexport default MyPosts;\n","import { useFormik } from 'formik';\nimport { ContactsType, ProfileType } from '../../../types/types';\nimport { BaseInput, InputLow } from '../../common/FormsControls/FormsControls';\nimport { Button, Checkbox } from 'antd';\nimport { updateProfile } from '../../../redux/profile-reducer';\nimport { useDispatch } from 'react-redux';\n\ntype ProfileDescriptionFormPropsType = {\n    profile: ProfileType;\n    authorizedUserId: number | null;\n    errors: string[];\n    closeEditMode: () => void;\n};\n\ntype ProfileDescriptionFormValuesType = {\n    fullName: string;\n    aboutMe: string;\n    lookingForAJob: boolean;\n    lookingForAJobDescription: string;\n    contacts: ContactsType;\n};\n\nconst ProfileDescriptionForm: React.FC<ProfileDescriptionFormPropsType> = ({\n    closeEditMode,\n    profile,\n    authorizedUserId,\n    errors\n}) => {\n    const dispatch = useDispatch();\n\n    const formik = useFormik({\n        initialValues: {\n            fullName: profile.fullName,\n            aboutMe: profile.aboutMe,\n            lookingForAJob: profile.lookingForAJob,\n            lookingForAJobDescription: profile.lookingForAJobDescription,\n            contacts: {\n                facebook: profile.contacts.facebook,\n                github: profile.contacts.github,\n                instagram: profile.contacts.instagram,\n                mainLink: profile.contacts.mainLink,\n                twitter: profile.contacts.twitter,\n                vk: profile.contacts.vk,\n                website: profile.contacts.website,\n                youtube: profile.contacts.youtube\n            }\n        },\n        onSubmit: async (values: ProfileDescriptionFormValuesType) => {\n            if (authorizedUserId) {\n                await dispatch(updateProfile({ ...values, userId: authorizedUserId }));\n                closeEditMode();\n            }\n        }\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <BaseInput\n                title={'Имя'}\n                name={'fullName'}\n                onChange={formik.handleChange}\n                value={formik.values.fullName}\n                placeholder={'fullName'}\n            />\n            <BaseInput\n                title={'Обо мне'}\n                name={'aboutMe'}\n                onChange={formik.handleChange}\n                value={formik.values.aboutMe}\n                placeholder={'aboutMe'}\n            />\n            <Checkbox\n                onChange={formik.handleChange}\n                checked={formik.values.lookingForAJob}\n                name={'lookingForAJob'}\n            >\n                looking For A Job\n            </Checkbox>\n            {formik.values.lookingForAJob && (\n                <BaseInput\n                    title={'Описание для поиска работы'}\n                    name={'lookingForAJobDescription'}\n                    onChange={formik.handleChange}\n                    value={formik.values.lookingForAJobDescription}\n                    placeholder={'looking For A Job Description'}\n                />\n            )}\n            <Contacts contacts={formik.values.contacts} onChange={formik.handleChange} errors={errors} />\n            <div>\n                <Button disabled={!formik.isValid} htmlType={'submit'}>\n                    Save\n                </Button>\n            </div>\n            {!!errors.length &&\n                errors.map((err: string, index: number) => (\n                    <div key={index} style={{ color: 'red' }}>\n                        <strong>Ошибка: </strong>\n                        {err}\n                    </div>\n                ))}\n        </form>\n    );\n};\n\ntype ContactsPropsType = {\n    contacts: any;\n    onChange: any;\n    errors: string[];\n};\n\nconst Contacts: React.FC<ContactsPropsType> = ({ contacts, onChange, errors }) => {\n    const err = errors.map((e: string) => {\n        return e.split('->')[1]?.replace(')', '').toLowerCase();\n    });\n\n    return (\n        <div>\n            {Object.keys(contacts).map((contact) => (\n                <InputLow\n                    key={contact}\n                    title={contact}\n                    isError={err.some((e: string | null) => e === contact.toLowerCase())}\n                    name={`contacts.${contact}`}\n                    onChange={onChange}\n                    value={contacts[contact]}\n                    placeholder={contact}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default ProfileDescriptionForm;\n","import React, { useState } from 'react';\nimport { Input, Tooltip } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { EditOutlined } from '@ant-design/icons';\nimport { useInput } from '../../../Hooks/useInput';\n\ntype PropsType = {\n    isOwner?: boolean;\n    status: string;\n    updateStatus?: (status: string) => void;\n};\nconst ProfileStatus: React.FC<PropsType> = ({ isOwner = false, status, updateStatus = (x) => x }) => {\n    const [editMode, setEditMode] = useState(false);\n    const dispatch = useDispatch();\n\n    const inputStatus = useInput(status);\n\n    const activateEditMode = () => {\n        if (!isOwner) {\n            return;\n        }\n        setEditMode(true);\n    };\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        dispatch(updateStatus(inputStatus.value));\n    };\n\n    return (\n        <div>\n            {editMode ? (\n                <div>\n                    <strong>Status:</strong>{' '}\n                    <Input\n                        {...inputStatus}\n                        onBlur={deactivateEditMode}\n                        style={{ maxWidth: 400 }}\n                        autoFocus\n                        type=\"text\"\n                    />\n                </div>\n            ) : (\n                <div>\n                    <span>\n                        <strong>Status:</strong> {status || 'Нет статуса'}\n                    </span>\n                    {isOwner && (\n                        <Tooltip placement=\"right\" title={'Edit status'}>\n                            <EditOutlined style={{ marginLeft: 10 }} onClick={activateEditMode} />\n                        </Tooltip>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ProfileStatus;\n","import { useState } from 'react';\n\nexport const useInput = (initialValue: string) => {\n    const [value, setValue] = useState(initialValue);\n\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setValue(e.target.value);\n    };\n\n    return {\n        value,\n        onChange\n    };\n};\n","import React, { useEffect, useState } from 'react';\nimport userPhoto from '../../../assets/images/avatar.png';\nimport { ProfileType } from '../../../types/types';\nimport ProfileDescriptionForm from './ProfileDescriptionForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { AppStateType } from '../../../redux/redux-store';\nimport { actions, getStatus, getUserProfile, updateStatus } from '../../../redux/profile-reducer';\nimport { Card, Button, Upload, Divider, Image, message, Skeleton, Descriptions } from 'antd';\nimport { UploadChangeParam } from 'antd/lib/upload';\nimport { UploadFile } from 'antd/lib/upload/interface';\nimport { UploadOutlined } from '@ant-design/icons';\nimport ImgCrop from 'antd-img-crop';\nimport { apiKey } from '../../../api/api';\nimport ProfileStatus from './ProfileStatus';\n\nconst ProfileInfo: React.FC = () => {\n    const [editMode, setEditMode] = useState(false);\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const params = useParams<{ userId?: string }>();\n    const profile = useSelector((state: AppStateType) => state.profilePage.profile);\n    const authorizedUserId = useSelector((state: AppStateType) => state.auth.userId);\n    const errors = useSelector((state: AppStateType) => state.profilePage.errors);\n\n    useEffect(() => {\n        const userId = params?.userId ?? authorizedUserId;\n        if (!userId) {\n            history.push('/login');\n        } else {\n            dispatch(getUserProfile(userId as number));\n            dispatch(getStatus(userId as number));\n        }\n    }, [authorizedUserId, dispatch, history, params.userId]);\n\n    useEffect(() => {\n        if (errors.length) {\n            setEditMode(true);\n        }\n        errors.forEach((err) => {\n            message.error(err);\n        });\n    }, [errors]);\n\n    const onMainPhotoSelected = (info: UploadChangeParam<UploadFile<any>>) => {\n        if (info.file.response?.data?.photos) {\n            dispatch(actions.savePhotoSuccess(info.file.response?.data?.photos));\n            message.success('New photo is uploaded');\n        }\n    };\n\n    if (!profile) {\n        return <Skeleton active />;\n    }\n\n    return (\n        <Card\n            style={{ maxWidth: '100%' }}\n            cover={\n                <div>\n                    <Image style={{ maxWidth: '300px' }} src={profile?.photos?.large || userPhoto} />\n                </div>\n            }\n            actions={[\n                <div>\n                    {!params?.userId && !editMode && (\n                        <Button onClick={() => setEditMode(true)}>Edit profile</Button>\n                    )}\n                </div>\n            ]}\n        >\n            {!params?.userId && editMode && (\n                // <input type={'file'} accept=\".png, .jpg, .jpeg\" onChange={onMainPhotoSelected1} />\n                <>\n                    <ImgCrop rotate>\n                        <Upload\n                            withCredentials\n                            action=\"https://social-network.samuraijs.com/api/1.0/profile/photo\"\n                            onChange={onMainPhotoSelected}\n                            headers={{ 'API-KEY': apiKey }}\n                            showUploadList={false}\n                        >\n                            <Button icon={<UploadOutlined />}>Upload new photo</Button>\n                        </Upload>\n                    </ImgCrop>\n                    <Divider />\n                </>\n            )}\n            {!editMode ? (\n                <>\n                    <ProfileDescription profile={profile} isOwner={!params?.userId} />\n                </>\n            ) : (\n                <ProfileDescriptionForm\n                    errors={errors}\n                    authorizedUserId={authorizedUserId}\n                    profile={profile}\n                    closeEditMode={() => {\n                        setEditMode(false);\n                    }}\n                />\n            )}\n        </Card>\n    );\n};\n\ntype ProfileDescriptionPropsType = {\n    profile: ProfileType;\n    isOwner: boolean;\n};\n\nconst ProfileDescription: React.FC<ProfileDescriptionPropsType> = ({ profile, isOwner }) => {\n    const status = useSelector((state: AppStateType) => state.profilePage.status);\n\n    const profileContacts = Object.entries(profile?.contacts).map(\n        (contact: Array<string | null>, index: number) => {\n            const [name, value] = contact;\n            return (\n                value && (\n                    <div key={index}>\n                        <a href={value} target=\"_blank\" style={{ whiteSpace: 'nowrap' }} rel=\"noreferrer\">\n                            {name}\n                        </a>\n                    </div>\n                )\n            );\n        }\n    );\n\n    return (\n        <>\n            <ProfileStatus isOwner={isOwner} status={status} updateStatus={updateStatus} />\n            <Descriptions bordered>\n                <Descriptions.Item style={{ whiteSpace: 'nowrap' }} label=\"Name\">\n                    {profile?.fullName}\n                </Descriptions.Item>\n                {profile?.aboutMe && (\n                    <Descriptions.Item label=\"About me\">{profile?.aboutMe}</Descriptions.Item>\n                )}\n                {profile?.lookingForAJob && (\n                    <Descriptions.Item label=\"Looking for a job description\">\n                        {profile?.lookingForAJobDescription}\n                    </Descriptions.Item>\n                )}\n                {profileContacts.some((p) => !!p) && (\n                    <Descriptions.Item label=\"Contacts\">{profileContacts}</Descriptions.Item>\n                )}\n            </Descriptions>\n        </>\n    );\n};\n\nexport default ProfileInfo;\n","import MyPosts from '../components/Profile/MyPosts/MyPosts';\nimport ProfileInfo from '../components/Profile/ProfileInfo/ProfileInfo';\n\nconst Profile: React.FC = () => {\n    return (\n        <div>\n            <ProfileInfo />\n            <MyPosts />\n        </div>\n    );\n};\n\nexport default Profile;\n"],"sourceRoot":""}