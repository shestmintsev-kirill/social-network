{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/ProfileInfo/ProfileDescriptionForm.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","pages/Profile.tsx"],"names":["module","exports","Post","props","useState","likesCount","likes","setLikes","dislikes","setDislikes","action","setAction","userPhoto","useSelector","state","profilePage","profile","photos","large","userName","fullName","actions","title","onClick","createElement","LikeFilled","LikeOutlined","className","React","DislikeFilled","DislikeOutlined","author","avatar","src","mockPhoto","alt","content","message","datetime","moment","format","fromNow","PostForm","formik","useFormik","initialValues","post","onSubmit","values","resetForm","addNewPost","handleSubmit","name","onBlur","handleBlur","onChange","handleChange","value","placeholder","disabled","dirty","htmlType","MyPosts","dispatch","useDispatch","postsElements","posts","map","p","i","s","postsBlock","addPost","active","style","position","bottom","Contacts","contacts","err","errors","e","split","replace","toLowerCase","Object","keys","contact","isError","some","ProfileDescriptionForm","closeEditMode","authorizedUserId","examValue","length","aboutMe","lookingForAJob","lookingForAJobDescription","facebook","github","instagram","mainLink","twitter","vk","website","youtube","a","updateProfile","userId","checked","index","color","ProfileStatus","isOwner","status","updateStatus","x","editMode","setEditMode","profileStatus","setStatus","useEffect","target","maxWidth","autoFocus","type","EditOutlined","marginLeft","ProfileDescription","profileContacts","entries","href","whiteSpace","rel","bordered","Item","label","ProfileInfo","history","useHistory","params","useParams","auth","getUserProfile","getStatus","push","forEach","error","cover","rotate","withCredentials","info","file","response","data","savePhotoSuccess","success","headers","apiKey","showUploadList","icon","UploadOutlined","Profile"],"mappings":"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","file":"static/js/5.3c8a0697.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3BStp\",\"posts\":\"MyPosts_posts__2Eaxb\"};","import React, { createElement, useState } from 'react';\r\nimport { Comment, Tooltip, Avatar } from 'antd';\r\nimport moment from 'moment';\r\nimport { DislikeOutlined, LikeOutlined, DislikeFilled, LikeFilled } from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../../../redux/redux-store';\r\nimport mockPhoto from '../../../../assets/images/avatar.png';\r\n\r\ntype PropsType = {\r\n    message: string;\r\n    likesCount: number;\r\n};\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    const [likes, setLikes] = useState(props.likesCount);\r\n    const [dislikes, setDislikes] = useState(0);\r\n    const [action, setAction] = useState('');\r\n    const userPhoto = useSelector((state: AppStateType) => state.profilePage.profile?.photos?.large);\r\n    const userName = useSelector((state: AppStateType) => state.profilePage.profile?.fullName);\r\n\r\n    const like = () => {\r\n        setLikes(props.likesCount + 1);\r\n        setDislikes(0);\r\n        setAction('liked');\r\n    };\r\n\r\n    const dislike = () => {\r\n        setLikes(props.likesCount);\r\n        setDislikes(1);\r\n        setAction('disliked');\r\n    };\r\n\r\n    const actions = [\r\n        <Tooltip key=\"comment-basic-like\" title=\"Like\">\r\n            <span onClick={like}>\r\n                {createElement(action === 'liked' ? LikeFilled : LikeOutlined)}\r\n                <span className=\"comment-action\">{likes}</span>\r\n            </span>\r\n        </Tooltip>,\r\n        <Tooltip key=\"comment-basic-dislike\" title=\"Dislike\">\r\n            <span onClick={dislike}>\r\n                {React.createElement(action === 'disliked' ? DislikeFilled : DislikeOutlined)}\r\n                <span className=\"comment-action\">{dislikes}</span>\r\n            </span>\r\n        </Tooltip>\r\n    ];\r\n\r\n    return (\r\n        <Comment\r\n            actions={actions}\r\n            author={userName}\r\n            avatar={<Avatar src={userPhoto || mockPhoto} alt=\"photo\" />}\r\n            content={<p>{props.message}</p>}\r\n            datetime={\r\n                <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                    <span>{moment().fromNow()}</span>\r\n                </Tooltip>\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nexport default Post;\r\n","import { useFormik } from 'formik';\r\nimport { PostType } from '../../../types/types';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Button, Skeleton } from 'antd';\r\nimport { AppStateType } from '../../../redux/redux-store';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { actions } from '../../../redux/profile-reducer';\r\n\r\nconst MyPosts: React.FC = () => {\r\n    const dispatch = useDispatch();\r\n    const profile = useSelector((state: AppStateType) => state.profilePage.profile);\r\n    const posts = useSelector((state: AppStateType) => state.profilePage.posts);\r\n\r\n    const postsElements = posts.map((p: PostType, i: number) => (\r\n        <Post message={p.message} likesCount={p.likesCount} key={i} />\r\n    ));\r\n\r\n    const addNewPost = (values: PostFormValues) => {\r\n        dispatch(actions.addPost(values.post));\r\n    };\r\n\r\n    if (!profile) {\r\n        return <Skeleton avatar active style={{ position: 'absolute', bottom: 100 }} />;\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <PostForm addNewPost={addNewPost} />\r\n            </div>\r\n            <div className={s.posts}>{postsElements}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\ntype PostFormValues = {\r\n    post: string;\r\n};\r\n\r\ntype PostFormPropsType = {\r\n    addNewPost: (values: PostFormValues) => void;\r\n};\r\n\r\nconst PostForm: React.FC<PostFormPropsType> = (props) => {\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            post: ''\r\n        },\r\n        onSubmit: (values: PostFormValues, { resetForm }) => {\r\n            props.addNewPost(values);\r\n            resetForm();\r\n        }\r\n    });\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <Textarea\r\n                name={'post'}\r\n                onBlur={formik.handleBlur}\r\n                onChange={formik.handleChange}\r\n                value={formik.values.post}\r\n                placeholder={'Enter your post'}\r\n            />\r\n            <div>\r\n                <Button disabled={!formik.dirty} htmlType=\"submit\">\r\n                    Add post\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { useFormik } from 'formik';\nimport { ContactsType, ProfileType } from '../../../types/types';\nimport { BaseInput, InputLow } from '../../common/FormsControls/FormsControls';\nimport { Button, Checkbox } from 'antd';\nimport { updateProfile } from '../../../redux/profile-reducer';\nimport { useDispatch } from 'react-redux';\n\ntype ProfileDescriptionFormPropsType = {\n    profile: ProfileType;\n    authorizedUserId: number | null;\n    errors: string[];\n    closeEditMode: () => void;\n};\n\ntype ProfileDescriptionFormValuesType = {\n    fullName: string;\n    aboutMe: string;\n    lookingForAJob: boolean;\n    lookingForAJobDescription: string;\n    contacts: ContactsType;\n};\n\nconst ProfileDescriptionForm: React.FC<ProfileDescriptionFormPropsType> = ({\n    profile,\n    closeEditMode,\n    authorizedUserId,\n    errors\n}) => {\n    const dispatch = useDispatch();\n    const examValue = (value: string) => {\n        return value.length ? value : '';\n    };\n\n    const formik = useFormik({\n        initialValues: {\n            fullName: profile.fullName,\n            aboutMe: examValue(profile.aboutMe),\n            lookingForAJob: profile.lookingForAJob,\n            lookingForAJobDescription: examValue(profile.lookingForAJobDescription),\n            contacts: {\n                facebook: examValue(profile.contacts.facebook),\n                github: examValue(profile.contacts.github),\n                instagram: examValue(profile.contacts.instagram),\n                mainLink: examValue(profile.contacts.mainLink),\n                twitter: examValue(profile.contacts.twitter),\n                vk: examValue(profile.contacts.vk),\n                website: examValue(profile.contacts.website),\n                youtube: examValue(profile.contacts.youtube)\n            }\n        },\n        onSubmit: async (values: ProfileDescriptionFormValuesType) => {\n            if (authorizedUserId) {\n                await dispatch(updateProfile({ ...values, userId: authorizedUserId }));\n                closeEditMode();\n            }\n        }\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <BaseInput\n                title={'Имя'}\n                name={'fullName'}\n                onChange={formik.handleChange}\n                value={formik.values.fullName}\n                placeholder={'fullName'}\n            />\n            <BaseInput\n                title={'Обо мне'}\n                name={'aboutMe'}\n                onChange={formik.handleChange}\n                value={formik.values.aboutMe}\n                placeholder={'aboutMe'}\n            />\n            <Checkbox\n                onChange={formik.handleChange}\n                checked={formik.values.lookingForAJob}\n                name={'lookingForAJob'}\n            >\n                looking For A Job\n            </Checkbox>\n            {formik.values.lookingForAJob && (\n                <BaseInput\n                    title={'Описание для поиска работы'}\n                    name={'lookingForAJobDescription'}\n                    onChange={formik.handleChange}\n                    value={formik.values.lookingForAJobDescription}\n                    placeholder={'looking For A Job Description'}\n                />\n            )}\n            <Contacts contacts={formik.values.contacts} onChange={formik.handleChange} errors={errors} />\n            <div>\n                <Button htmlType={'submit'}>Save</Button>\n            </div>\n            {!!errors.length &&\n                errors.map((err: string, index: number) => (\n                    <div key={index} style={{ color: 'red' }}>\n                        <strong>Ошибка: </strong>\n                        {err}\n                    </div>\n                ))}\n        </form>\n    );\n};\n\ntype ContactsPropsType = {\n    contacts: any;\n    onChange: any;\n    errors: string[];\n};\n\nconst Contacts: React.FC<ContactsPropsType> = ({ contacts, onChange, errors }) => {\n    const err = errors.map((e: string) => {\n        return e.split('->')[1].replace(')', '').toLowerCase();\n    });\n\n    return (\n        <div>\n            {Object.keys(contacts).map((contact) => (\n                <InputLow\n                    key={contact}\n                    title={contact}\n                    isError={err.some((e: string) => e === contact.toLowerCase())}\n                    name={`contacts.${contact}`}\n                    onChange={onChange}\n                    value={contacts[contact]}\n                    placeholder={contact}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default ProfileDescriptionForm;\n","import React, { useEffect, useState } from 'react';\nimport { Input } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { EditOutlined } from '@ant-design/icons';\n\ntype PropsType = {\n    isOwner?: boolean;\n    status: string;\n    updateStatus?: (status: string) => void;\n};\nconst ProfileStatus: React.FC<PropsType> = ({ isOwner = false, status, updateStatus = (x) => x }) => {\n    const [editMode, setEditMode] = useState(false);\n    const [profileStatus, setStatus] = useState<string>(status);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        setStatus(status);\n    }, [status]);\n\n    const activateEditMode = () => {\n        if (!isOwner) {\n            return;\n        }\n        setEditMode(true);\n    };\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        dispatch(updateStatus(profileStatus));\n    };\n\n    const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setStatus(e.target.value);\n    };\n\n    return (\n        <div>\n            {editMode ? (\n                <div>\n                    <strong>Status:</strong>{' '}\n                    <Input\n                        onChange={onStatusChange}\n                        onBlur={deactivateEditMode}\n                        style={{ maxWidth: 400 }}\n                        autoFocus\n                        type=\"text\"\n                        value={profileStatus}\n                    />\n                </div>\n            ) : (\n                <div>\n                    <span>\n                        <strong>Status:</strong> {status || 'Нет статуса'}\n                    </span>\n                    {isOwner && <EditOutlined style={{ marginLeft: 10 }} onClick={activateEditMode} />}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ProfileStatus;\n","import React, { useEffect, useState } from 'react';\r\nimport userPhoto from '../../../assets/images/avatar.png';\r\nimport { ProfileType } from '../../../types/types';\r\nimport ProfileDescriptionForm from './ProfileDescriptionForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { AppStateType } from '../../../redux/redux-store';\r\nimport { actions, getStatus, getUserProfile, updateStatus } from '../../../redux/profile-reducer';\r\nimport { Card, Button, Upload, Divider, Image, message, Skeleton, Descriptions } from 'antd';\r\nimport { UploadChangeParam } from 'antd/lib/upload';\r\nimport { UploadFile } from 'antd/lib/upload/interface';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { apiKey } from '../../../api/api';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\nconst ProfileInfo: React.FC = () => {\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const params = useParams<{ userId?: string }>();\r\n    const profile = useSelector((state: AppStateType) => state.profilePage.profile);\r\n    const authorizedUserId = useSelector((state: AppStateType) => state.auth.userId);\r\n    const errors = useSelector((state: AppStateType) => state.profilePage.errors);\r\n\r\n    useEffect(() => {\r\n        const userId = params?.userId ?? authorizedUserId;\r\n        if (!userId) {\r\n            history.push('/login');\r\n        } else {\r\n            dispatch(getUserProfile(userId as number));\r\n            dispatch(getStatus(userId as number));\r\n        }\r\n    }, [authorizedUserId, dispatch, history, params.userId]);\r\n\r\n    useEffect(() => {\r\n        if (errors.length) {\r\n            setEditMode(true);\r\n        }\r\n        errors.forEach((err) => {\r\n            message.error(err);\r\n        });\r\n    }, [errors]);\r\n\r\n    const onMainPhotoSelected = (info: UploadChangeParam<UploadFile<any>>) => {\r\n        if (info.file.response?.data?.photos) {\r\n            dispatch(actions.savePhotoSuccess(info.file.response?.data?.photos));\r\n            message.success('New photo is uploaded');\r\n        }\r\n    };\r\n\r\n    if (!profile) {\r\n        return <Skeleton active />;\r\n    }\r\n\r\n    return (\r\n        <Card\r\n            style={{ maxWidth: '100%' }}\r\n            cover={\r\n                <div>\r\n                    <Image style={{ maxWidth: '300px' }} src={profile?.photos?.large || userPhoto} />\r\n                </div>\r\n            }\r\n            actions={[\r\n                <div>\r\n                    {!params?.userId && !editMode && (\r\n                        <Button onClick={() => setEditMode(true)}>Edit profile</Button>\r\n                    )}\r\n                </div>\r\n            ]}\r\n        >\r\n            {!params?.userId && editMode && (\r\n                // <input type={'file'} accept=\".png, .jpg, .jpeg\" onChange={onMainPhotoSelected1} />\r\n                <>\r\n                    <ImgCrop rotate>\r\n                        <Upload\r\n                            withCredentials\r\n                            action=\"https://social-network.samuraijs.com/api/1.0/profile/photo\"\r\n                            onChange={onMainPhotoSelected}\r\n                            headers={{ 'API-KEY': apiKey }}\r\n                            showUploadList={false}\r\n                        >\r\n                            <Button icon={<UploadOutlined />}>Upload new photo</Button>\r\n                        </Upload>\r\n                    </ImgCrop>\r\n                    <Divider />\r\n                </>\r\n            )}\r\n            {!editMode ? (\r\n                <>\r\n                    <ProfileDescription profile={profile} isOwner={!params?.userId} />\r\n                </>\r\n            ) : (\r\n                <ProfileDescriptionForm\r\n                    errors={errors}\r\n                    authorizedUserId={authorizedUserId}\r\n                    profile={profile}\r\n                    closeEditMode={() => {\r\n                        setEditMode(false);\r\n                    }}\r\n                />\r\n            )}\r\n        </Card>\r\n    );\r\n};\r\n\r\ntype ProfileDescriptionPropsType = {\r\n    profile: ProfileType;\r\n    isOwner: boolean;\r\n};\r\n\r\nconst ProfileDescription: React.FC<ProfileDescriptionPropsType> = ({ profile, isOwner }) => {\r\n    const status = useSelector((state: AppStateType) => state.profilePage.status);\r\n\r\n    const profileContacts = Object.entries(profile?.contacts).map((contact: string[], index: number) => {\r\n        const [name, value] = contact;\r\n        return (\r\n            value && (\r\n                <div key={index}>\r\n                    <a href={value} target=\"_blank\" style={{ whiteSpace: 'nowrap' }} rel=\"noreferrer\">\r\n                        {name}\r\n                    </a>\r\n                </div>\r\n            )\r\n        );\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <ProfileStatus isOwner={isOwner} status={status} updateStatus={updateStatus} />\r\n            <Descriptions bordered>\r\n                <Descriptions.Item style={{ whiteSpace: 'nowrap' }} label=\"Name\">\r\n                    {profile?.fullName}\r\n                </Descriptions.Item>\r\n                {profile?.aboutMe && (\r\n                    <Descriptions.Item label=\"About me\">{profile?.aboutMe}</Descriptions.Item>\r\n                )}\r\n                {profile?.lookingForAJob && (\r\n                    <Descriptions.Item label=\"Looking for a job description\">\r\n                        {profile?.lookingForAJobDescription}\r\n                    </Descriptions.Item>\r\n                )}\r\n                {profileContacts.some((p) => !!p) && (\r\n                    <Descriptions.Item label=\"Contacts\">{profileContacts}</Descriptions.Item>\r\n                )}\r\n            </Descriptions>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import MyPosts from '../components/Profile/MyPosts/MyPosts';\r\nimport ProfileInfo from '../components/Profile/ProfileInfo/ProfileInfo';\r\n\r\nconst Profile: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo />\r\n            <MyPosts />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}