{"version":3,"sources":["assets/images/avatar.png","components/common/FormsControls/FormsControls.tsx","components/common/Preloader/Preloader.module.css","redux/profile-reducer.ts","redux/dialogs-reducer.ts","api/chat-api.ts","redux/chat-reducer.ts","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","api/auth-api.ts","redux/auth-reducer.ts","components/Header/Header.tsx","components/Login/Login.tsx","api/users-api.ts","redux/users-reducer.ts","redux/users-selectors.ts","components/common/Paginate/Pagination.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","redux/app-reducer.ts","components/NavBar/Navbar.tsx","components/Breadcrumb/BreadCrumb.tsx","App.tsx","Hooks/useRouteTransitions.ts","reportWebVitals.js","redux/sidebar-reducer.ts","redux/redux-store.ts","index.tsx","api/api.ts","components/common/FormsControls/FormsControls.module.css","api/profile-api.ts"],"names":["TextArea","Input","BaseInput","props","className","s","inputWrapper","style","fontWeight","htmlFor","title","input","touched","errors","inputError","type","placeholder","name","onChange","onBlur","value","error","InputLow","color","isError","Textarea","textarea","module","exports","initialState","posts","id","message","likesCount","newPostText","profile","status","actions","addPost","post","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","photos","setError","err","getUserProfile","userId","dispatch","a","profileAPI","data","getStatus","getUserStatus","Number","updateStatus","getState","resultCode","profilePage","success","updateProfile","profileData","messages","profileReducer","state","action","newPost","filter","p","dialogs","sendMessage","dialogsReducer","subscribers","ws","closeHendler","console","log","forEach","setTimeout","connectWS","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","_newMessagesHandler","newMessagesHandlerCreator","_newStatusHandler","newStatusHandlerCreator","startMessagesListening","stopMessagesListening","chatReducer","map","m","v1","index","arr","length","Preloader","preloader","src","alt","preloaderImg","authAPI","instance","get","res","loginData","delete","email","login","isAuth","errorMessage","captcha","meProfile","payload","getAuthUserData","getMeProfile","getCaptcha","url","authReducer","Header","Layout","history","useHistory","useDispatch","useSelector","auth","photo","large","display","justifyContent","theme","mode","defaultSelectedKeys","Item","to","placement","marginRight","mockPhoto","onClick","info","LoginForm","authLogin","useEffect","validationsSchema","Yup","shape","required","password","typeError","max","confirmPassword","oneOf","formik","useFormik","initialValues","rememberMe","onSubmit","values","resetForm","validationSchema","handleSubmit","handleChange","handleBlur","checked","disabled","dirty","isValid","htmlType","Login","ResultCodeEnum","Success","fieldsErrors","ResultCodeForCaptcha","CaptchaIsRequired","usersAPI","getUsers","currentPage","pageSize","term","friend","params","count","page","follow","unFollow","users","totalUsersCount","isFetching","followingInProgress","followedStatus","size","items","totalCount","_followUnfollowFlow","apiMethod","followStatus","usersReducer","user","followed","getUsersState","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","PaginationBase","onPaginationChanged","x","marginBottom","total","current","pageSizeOptions","Meta","Card","User","ownerId","xl","span","hoverable","width","cover","small","userPhoto","maxWidth","border","loading","some","stopPropagation","UserDeleteOutlined","fontSize","UserAddOutlined","description","Option","Select","UsersSearchForm","React","memo","enableReinitialize","String","onFilterChanged","setFieldValue","onSelect","marginLeft","SearchOutlined","Users","query","queryString","location","search","queryParams","pathname","stringify","bind","unFollowThunk","followThunk","Pagination","active","paragraph","rows","gutter","initialized","appReducer","SubMenu","Menu","Sider","Navbar","useState","collapsed","setCollapsed","collapsible","onCollapse","breakpoint","minHeight","height","icon","UserOutlined","LaptopOutlined","BreadCrumb","breadcrumbItem","setBreadcrumbItem","useLocation","replace","margin","Content","Footer","Dialogs","lazy","Profile","ChatPage","ErrorPage","App","app","transitions","useTransition","keys","from","transform","opacity","enter","leave","useRouteTransitions","overflowX","padding","item","div","fallback","exact","path","textAlign","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","rootReducer","combineReducers","dialogsPage","sidebar","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","render","document","getElementById","apiKey","axios","create","withCredentials","baseURL","headers","put","savePhoto","file","formData","FormData","append"],"mappings":"8GAAe,89M,oLCEPA,EAAaC,IAAbD,SAeKE,EAAsC,SAACC,GAChD,OACI,sBAAKC,UAAWC,IAAEC,aAAlB,UACI,uBAAOC,MAAO,CAAEC,WAAY,QAAUC,QAASN,EAAMM,QAArD,SACKN,EAAMO,QAEX,uBACA,cAAC,IAAD,CACIN,UAAS,UAAKC,IAAEM,MAAP,YAAgBR,EAAMS,SAAWT,EAAMU,QAAUR,IAAES,YAC5DC,KAAMZ,EAAMY,KACZC,YAAab,EAAMa,YACnBC,KAAMd,EAAMc,KACZC,SAAUf,EAAMe,SAChBC,OAAQhB,EAAMgB,OACdC,MAAOjB,EAAMiB,QAEhBjB,EAAMS,SAAWT,EAAMU,QAAU,mBAAGT,UAAWC,IAAEgB,MAAhB,SAAwBlB,EAAMU,aAK/DS,EAAqC,SAACnB,GAC/C,OACI,gCACI,uBAAOM,QAASN,EAAMM,QAASF,MAAO,CAAEgB,MAAOpB,EAAMqB,SAAW,MAAOhB,WAAY,QAAnF,SACKL,EAAMO,QAEX,uBACA,cAAC,IAAD,CACIN,UAAS,UAAKC,IAAEM,MAAP,YAAgBR,EAAMqB,SAAWnB,IAAES,YAC5CC,KAAMZ,EAAMY,KACZC,YAAab,EAAMa,YACnBC,KAAMd,EAAMc,KACZC,SAAUf,EAAMe,SAChBC,OAAQhB,EAAMgB,OACdC,MAAOjB,EAAMiB,QAEhBjB,EAAMS,SAAWT,EAAMU,QAAU,mBAAGT,UAAWC,IAAEgB,MAAhB,SAAwBlB,EAAMU,aAY/DY,EAAwC,SAACtB,GAClD,OACI,8BACI,cAACH,EAAD,aAAUI,UAAWC,IAAEqB,UAAcvB,Q,oBCpEjDwB,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,kC,wQCIpEC,EAAe,CACjBC,MAAO,CACH,CAAEC,GAAI,EAAGC,QAAS,mBAAoBC,WAAY,IAClD,CAAEF,GAAI,EAAGC,QAAS,eAAgBC,WAAY,IAC9C,CAAEF,GAAI,EAAGC,QAAS,4BAA6BC,WAAY,IAC3D,CAAEF,GAAI,EAAGC,QAAS,0DAA2DC,WAAY,KAE7FC,YAAa,GACbC,QAAS,KACTC,OAAQ,GACRvB,OAAQ,IA8CCwB,EAAU,CACnBC,QAAS,SAACC,GAAD,MAAmB,CAAExB,KAAM,sBAAuBwB,SAC3DC,eAAgB,SAACL,GAAD,MAA2B,CAAEpB,KAAM,8BAA+BoB,YAClFM,UAAW,SAACL,GAAD,MAAqB,CAAErB,KAAM,wBAAyBqB,WACjEM,WAAY,SAACC,GAAD,MAAqB,CAAE5B,KAAM,yBAA0B4B,WACnEC,iBAAkB,SAACC,GAAD,MAAyB,CAAE9B,KAAM,gCAAiC8B,WACpFC,SAAU,SAACC,GAAD,MAAoB,CAAEhC,KAAM,uBAAwBgC,SAGrDC,EACT,SAACC,GAAD,8CACA,WAAOC,GAAP,eAAAC,EAAA,sEACuBC,IAAWJ,eAAeC,GADjD,OACUI,EADV,OAEIH,EAASb,EAAQG,eAAea,IAFpC,2CADA,uDAMSC,EACT,SAACL,GAAD,8CACA,WAAOC,GAAP,eAAAC,EAAA,sEACuBC,IAAWG,cAAcC,OAAOP,IADvD,OACUI,EADV,OAEIH,EAASb,EAAQI,UAAUY,IAF/B,2CADA,uDAMSI,EACT,SAACrB,GAAD,8CACA,WAAOc,EAAUQ,GAAjB,SAAAP,EAAA,sEACuBC,IAAWK,aAAarB,GAD/C,OAE4B,IAF5B,OAEauB,aACDD,IAAWE,YAAYxB,SAAWA,GAAQJ,IAAQ6B,QAAQ,kBAC9DX,EAASb,EAAQI,UAAUL,KAJnC,2CADA,yDAkBS0B,EACT,SAACC,GAAD,8CACA,WAAOb,GAAP,eAAAC,EAAA,sEACuBC,IAAWU,cAAcC,GADhD,OAE4B,KADlBV,EADV,QAEaM,YACLT,EAASF,EAAee,EAAYd,SACpCC,EAASb,EAAQS,SAAS,KAC1Bd,IAAQ6B,QAAQ,qBAEhBX,EAASb,EAAQS,SAASO,EAAKW,WAPvC,2CADA,uDAgBWC,IAtGQ,WAAmE,IAAlEC,EAAiE,uDAAzDrC,EAAcsC,EAA2C,uCACrF,OAAQA,EAAOpD,MACX,IAAK,sBACD,IAAMqD,EAAU,CACZrC,GAAI,EACJC,QAASmC,EAAO5B,KAChBN,WAAY,GAEhB,OAAO,2BACAiC,GADP,IAEIpC,MAAM,GAAD,mBAAMoC,EAAMpC,OAAZ,CAAmBsC,IACxBlC,YAAa,KAErB,IAAK,8BACD,OAAO,2BACAgC,GADP,IAEI/B,QAASgC,EAAOhC,UAExB,IAAK,wBACD,OAAO,2BACA+B,GADP,IAEI9B,OAAQ+B,EAAO/B,SAEvB,IAAK,gCACD,OAAO,2BACA8B,GADP,IAEI/B,QAAQ,2BAAM+B,EAAM/B,SAAb,IAAsBU,OAAQsB,EAAOtB,WAEpD,IAAK,uBACD,OAAO,2BACAqB,GADP,IAEIrD,OAAQsD,EAAOpB,MAEvB,IAAK,yBACD,OAAO,2BACAmB,GADP,IAEIpC,MAAOoC,EAAMpC,MAAMuC,QAAO,SAACC,GAAD,OAAOA,EAAEvC,KAAOoC,EAAOxB,YAEzD,QACI,OAAOuB,K,uFCvDbrC,EAAe,CACjB0C,QAAS,CACL,CAAExC,GAAI,EAAGd,KAAM,UACf,CAAEc,GAAI,EAAGd,KAAM,UACf,CAAEc,GAAI,EAAGd,KAAM,SACf,CAAEc,GAAI,EAAGd,KAAM,SACf,CAAEc,GAAI,EAAGd,KAAM,UACf,CAAEc,GAAI,EAAGd,KAAM,WAEnB+C,SAAU,CACN,CAAEjC,GAAI,EAAGC,QAAS,MAClB,CAAED,GAAI,EAAGC,QAAS,SAClB,CAAED,GAAI,EAAGC,QAAS,OAClB,CAAED,GAAI,EAAGC,QAAS,cAClB,CAAED,GAAI,EAAGC,QAAS,WAgBbK,EAAU,CACnBmC,YAAa,SAACxC,GAAD,MAAsB,CAAEjB,KAAM,0BAA2BiB,aAc3DyC,IA3BQ,WAA0E,IAAzEP,EAAwE,uDAAhErC,EAAcsC,EAAkD,uCAC5F,MACS,4BADDA,EAAOpD,KAEA,2BACAmD,GADP,IAEIF,SAAS,GAAD,mBAAME,EAAMF,UAAZ,CAAsB,CAAEjC,GAAI,EAAGC,QAASmC,EAAOnC,aAGpDkC,I,mLC5BfQ,EAAc,CACd,oBAAqB,GACrB,iBAAkB,IAGlBC,EAAuB,KAErBC,EAAe,WACjBC,QAAQC,IAAI,YACZJ,EAAY,kBAAkBK,SAAQ,SAAC1E,GAAD,OAAOA,EAAE,cAC/C2E,YAAW,WACPC,MACD,MAGDC,EAAiB,SAACC,GACpB,IAAMC,EAAcC,KAAKC,MAAMH,EAAE9B,MACjCqB,EAAY,qBAAqBK,SAAQ,SAAC1E,GAAD,OAAOA,EAAE+E,OAGhDG,EAAc,WAChBb,EAAY,kBAAkBK,SAAQ,SAAC1E,GAAD,OAAOA,EAAE,aAG7CmF,EAAe,WACjBd,EAAY,kBAAkBK,SAAQ,SAAC1E,GAAD,OAAOA,EAAE,YAC/CwE,QAAQxD,MAAM,iBAGZoE,EAAU,WAAO,IAAD,QAChB,QAAF,EAAAd,SAAA,SAAIe,oBAAoB,QAASd,GAC/B,QAAF,EAAAD,SAAA,SAAIe,oBAAoB,UAAWR,GACjC,QAAF,EAAAP,SAAA,SAAIe,oBAAoB,OAAQH,GAC9B,QAAF,EAAAZ,SAAA,SAAIe,oBAAoB,QAASF,IAG9B,SAASP,IAAa,IAAD,EACxBQ,IACE,QAAF,EAAAd,SAAA,SAAIgB,QACJhB,EAAK,IAAIiB,UAAU,gEACnBlB,EAAY,kBAAkBK,SAAQ,SAAC1E,GAAD,OAAOA,EAAE,cAC/CsE,EAAGkB,iBAAiB,QAASjB,GAC7BD,EAAGkB,iBAAiB,UAAWX,GAC/BP,EAAGkB,iBAAiB,OAAQN,GAC5BZ,EAAGkB,iBAAiB,QAASL,GAG1B,IAAMM,EAAU,WAEfb,KAFKa,EAAU,WAIX,IAAD,EACHpB,EAAY,qBAAuB,GACnCA,EAAY,kBAAoB,GAChCe,IACE,QAAF,EAAAd,SAAA,SAAIgB,SARCG,EAAU,SAWfC,EACAC,GAIA,OADAtB,EAAYqB,GAAWE,KAAKD,GACrB,WAEHtB,EAAYqB,GAAarB,EAAYqB,GAAW1B,QAAO,SAAChE,GAAD,OAAOA,IAAM2F,OAlBnEF,EAAU,SAsBfC,EACAC,GAGAtB,EAAYqB,GAAarB,EAAYqB,GAAW1B,QAAO,SAAChE,GAAD,OAAOA,IAAM2F,MA1B/DF,EAAU,SA4BP9D,GAAkB,IAAD,EACvB,QAAF,EAAA2C,SAAA,SAAIuB,KAAKlE,I,SCvEXH,EAAe,CACjBmC,SAAU,GACV5B,OAAQ,WAsBNC,EACgB,SAAC2B,GAAD,MACb,CAAEjD,KAAM,4BAA6BiD,aAFxC3B,EAGa,SAACD,GAAD,MAAyB,CAAErB,KAAM,yBAA0BqB,WAG1E+D,EAAyE,KAEvEC,EAA4B,SAAClD,GAO/B,OAN4B,OAAxBiD,IACAA,EAAsB,SAACnC,GACnBd,EAASb,EAAyB2B,MAInCmC,GAGPE,EAA2D,KAEzDC,EAA0B,SAACpD,GAO7B,OAN0B,OAAtBmD,IACAA,EAAoB,SAACjE,GACjBc,EAASb,EAAsBD,MAIhCiE,GAGEE,EAAyB,yDAAiB,WAAOrD,GAAP,SAAAC,EAAA,sDACnD2C,IACAA,EAAkB,oBAAqBM,EAA0BlD,IACjE4C,EAAkB,iBAAkBQ,EAAwBpD,IAHT,2CAAjB,uDAMzBsD,EAAwB,yDAAiB,WAAOtD,GAAP,SAAAC,EAAA,sDAClD2C,EAAoB,oBAAqBM,EAA0BlD,IACnE4C,EAAoB,iBAAkBQ,EAAwBpD,IAC9D4C,IAHkD,2CAAjB,uDAMxBtB,EACT,SAACxC,GAAD,6BACA,sBAAAmB,EAAA,sDACI2C,EAAoB9D,GADxB,4CASWyE,IAxEK,WAAmE,IAAlEvC,EAAiE,uDAAzDrC,EAAcsC,EAA2C,uCAClF,OAAQA,EAAOpD,MACX,IAAK,4BACD,OAAO,2BACAmD,GADP,IAEIF,SAAU,sBAAIE,EAAMF,UAAV,YAAuBG,EAAOH,SAAS0C,KAAI,SAACC,GAAD,mBAAC,eAAYA,GAAb,IAAgB5E,GAAI6E,qBAAUvC,QAC/E,SAACsC,EAAGE,EAAOC,GAAX,OAAmBD,GAASC,EAAIC,OAAS,SAGrD,IAAK,yBACD,OAAO,2BACA7C,GADP,IAEI9B,OAAQ+B,EAAO/B,SAEvB,QACI,OAAO8B,K,6LCzBJ,MAA0B,sC,OCW1B8C,EARG,WACd,OACI,qBAAK5G,UAAWC,IAAE4G,UAAlB,SACI,qBAAKC,IAAKD,EAAWE,IAAI,YAAY/G,UAAWC,IAAE+G,kB,sHCWjDC,EAAU,WACP,OAAD,0HACWC,IAASC,IAAT,WADX,cACDC,EADC,yBAEAA,EAAInE,MAFJ,8CADFgE,EAAU,SAMPI,GAAuB,OAAD,0HACZH,IAAS/E,KAAyC,cAAlD,eAAsEkF,IAD1D,cACxBD,EADwB,yBAEvBA,EAAInE,MAFmB,8CANzBgE,EAAU,WAWH,OAAD,0HACOC,IAASI,OAAO,eADvB,cACLF,EADK,yBAEJA,EAAInE,MAFA,8CAXNgE,EAAU,WAgBC,OAAD,oHACFC,IAASI,OAA+B,6BADtC,sF,iBC1BjB7F,EAAe,CACjBoB,OAAQ,KACR0E,MAAO,KACPC,MAAO,KACPC,QAAQ,EACRC,aAAc,KACdC,QAAS,KACTC,UAAW,MAkCT3F,EACe,SAACY,EAAgB0E,EAAeC,EAAeC,GAA/C,MACZ,CAAE9G,KAAM,wBAAyBkH,QAAS,CAAEhF,SAAQ0E,QAAOC,QAAOC,YAFrExF,EAGU,SAAC0F,GAAD,MAA6B,CAAEhH,KAAM,sBAAuBgH,YAHtE1F,EAIiB,iBAAO,CAAEtB,KAAM,iCAJhCsB,EAKQ,SAAChB,GAAD,MAAoB,CAAEN,KAAM,oBAAqBM,UALzDgB,EAMY,SAACF,GAAD,MAA2B,CAAEpB,KAAM,yBAA0BoB,YAGlE+F,EAAkB,yDAAiB,WAAOhF,GAAP,uBAAAC,EAAA,sEACzBkE,IADyB,OAEpB,KADlBhE,EADsC,QAEnCM,aAAmB,EACKN,EAAKA,KAA1BtB,EADe,EACfA,GAAI6F,EADW,EACXA,MAAOD,EADI,EACJA,MACnBzE,EAASb,EAAwBN,EAAI4F,EAAOC,GAAO,IACnD1E,EAASiF,EAAapG,KALkB,2CAAjB,uDASlBoG,EACT,SAAClF,GAAD,8CACA,WAAOC,GAAP,eAAAC,EAAA,sEACuBC,IAAWJ,eAAeC,GADjD,OACUI,EADV,OAEIH,EAASb,EAAqBgB,IAFlC,2CADA,uDAsBS+E,EAAa,yDAAiB,WAAOlF,GAAP,eAAAC,EAAA,sEACrBkE,IADqB,OACjCG,EADiC,OAEvCtE,EAASb,EAAmBmF,EAAInE,KAAKgF,MAFE,2CAAjB,uDAuBXC,EA/FK,WAAmE,IAAlEpE,EAAiE,uDAAzDrC,EAAcsC,EAA2C,uCAClF,OAAQA,EAAOpD,MACX,IAAK,wBACD,OAAO,2BACAmD,GACAC,EAAO8D,SAElB,IAAK,+BACD,OAAO,eACApG,GAEX,IAAK,oBACD,OAAO,2BACAqC,GADP,IAEI4D,aAAc3D,EAAO9C,QAE7B,IAAK,sBACD,OAAO,2BACA6C,GADP,IAEI6D,QAAS5D,EAAO4D,UAExB,IAAK,yBACD,OAAO,2BACA7D,GADP,IAEI8D,UAAW7D,EAAOhC,UAE1B,QACI,OAAO+B,ICaJqE,EAlDU,WACrB,IAAQA,EAAWC,IAAXD,OAEFE,EAAUC,cACVxF,EAAWyF,cACXd,EAASe,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAKhB,UACzDD,EAAQgB,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAKjB,SACxDkB,EAAQF,aAAY,SAAC1E,GAAD,yBAAyBA,EAAM2E,KAAKb,iBAApC,iBAAyB,EAAsBnF,cAA/C,aAAyB,EAA8BkG,SAOjF,OACI,eAACR,EAAD,WACI,qBAAKnI,UAAU,SACf,eAAC,IAAD,CAAKG,MAAO,CAAEyI,QAAS,OAAQC,eAAgB,iBAA/C,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAMC,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,KAA3D,SACI,cAAC,IAAKC,KAAN,UACI,cAAC,IAAD,CAAMC,GAAG,cAAT,yBADW,SAKtBzB,EACG,sBAAKtH,MAAO,CAAEyI,QAAS,QAAvB,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAASO,UAAU,SAAS7I,MAAOkH,GAAS,GAA5C,SACI,cAAC,IAAD,CAAM0B,GAAI,WAAY/I,MAAO,CAAEiJ,YAAa,IAA5C,SACI,cAAC,IAAD,CAAQtC,IAAK4B,GAASW,YAIlC,cAAC,IAAD,UACI,cAAC,IAAD,CAAQC,QA1Bd,WACdxG,ED6Ec,uCAAiB,WAAOA,EAAUQ,GAAjB,SAAAP,EAAA,6DACnCnB,IAAQ2H,KAAR,cAAoBjG,IAAWmF,KAAKjB,MAApC,MADmC,SAEhBP,IAFgB,OAGX,IAHW,OAG1B1D,YACLT,EAASb,KAJsB,2CAAjB,yDC5EdoG,EAAQxC,KAAK,WAwBO,0BAIR,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAMqD,GAAG,SAAT,8B,mCCHtBM,EAA0C,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UACzC9B,EAAUa,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAKd,WAC1DD,EAAec,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAKf,gBAErEgC,qBAAU,WACFhC,GAAc9F,IAAQX,MAAMyG,KACjC,CAACA,IAEJ,IAAMiC,EAAoBC,MAA2DC,MAAM,CACvFtC,MAAOqC,MAAarC,MAAM,uEAAqBuC,SAAS,+FACxDC,SAAUH,MACLI,UAAU,4GACVC,IAAI,GAAI,iCACRH,SAAS,qGACdI,gBAAiBN,MACZO,MAAM,CAACP,IAAQ,aAAc,4GAC7BE,SAAS,0LAEdnC,QAASA,GAAWiC,MAAaE,SAAS,iGAGxCM,EAASC,YAAU,CACrBC,cAAe,CACX/C,MAAO,GACPwC,SAAU,GACVG,gBAAiB,GACjBvC,QAAS,GACT4C,YAAY,GAEhBC,SAAU,SAACC,EAAD,GAAgC,EAAhBC,UACtBjB,EAAUgB,GACVA,EAAO9C,QAAU,IAIrBgD,iBAAkBhB,IActB,OACI,uBAAMa,SAAUJ,EAAOQ,aAAvB,UAZgB,CAChB,CAAE/J,KAAM,QAASP,MAAO,iCAASM,YAAa,QAASD,KAAM,QAC7D,CAAEE,KAAM,WAAYP,MAAO,uCAAUM,YAAa,WAAYD,KAAM,YACpE,CACIE,KAAM,kBACNP,MAAO,0GACPM,YAAa,mBACbD,KAAM,aAMO2F,KAAI,SAAC/F,EAAOkG,GAAR,OACb,cAAC,IAAD,CAEInG,MAAOC,EAAMD,MACbK,KAAMJ,EAAMI,KACZC,YAAaL,EAAMK,YACnBC,KAAMN,EAAMM,KACZC,SAAUsJ,EAAOS,aACjB9J,OAAQqJ,EAAOU,WACf9J,MAAOoJ,EAAOK,OAAOlK,EAAMM,MAC3BL,QAAS4J,EAAO5J,QAAQD,EAAMM,MAC9BJ,OAAQ2J,EAAO3J,OAAOF,EAAMM,OATvB4F,MAYb,8BACI,cAAC,IAAD,CACI3F,SAAUsJ,EAAOS,aACjBE,QAASX,EAAOK,OAAOF,WACvB1J,KAAM,aAHV,2BAQH8G,GACG,gCACI,qBAAKb,IAAKa,EAASZ,IAAI,YACvB,cAAC,IAAD,CACIpG,KAAK,OACLE,KAAM,UACNG,MAAOoJ,EAAOK,OAAO9C,QACrB5G,OAAQqJ,EAAOU,WACfhK,SAAUsJ,EAAOS,aACjBjK,YAAa,qBAIzB,gCACI,mBAAGT,MAAO,CAAEgB,MAAO,OAAnB,SAA6BuG,IAC7B,cAAC,IAAD,CAAQsD,UAAWZ,EAAOa,QAAUb,EAAOc,QAASC,SAAS,SAA7D,0BAQDC,EApIS,WACpB,IAAM3D,EAASe,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAKhB,UACzD3E,EAAWyF,cAEjB,GAAId,EACA,OAAO,cAAC,IAAD,CAAUyB,GAAI,aAWzB,OACI,gCACI,uCACA,cAAC,EAAD,CAAWO,UAXD,SAACgB,GACf,IAAMpD,EAAS,eAAQoD,GACvB,IAAK,IAAMzJ,KAASqG,EACF,oBAAVrG,UAAoCqG,EAAUrG,GAEtD8B,EFmDJ,SAACuE,GAAD,8CACA,WAAOvE,EAAUQ,GAAjB,mBAAAP,EAAA,sEACuBkE,EAAcI,GADrC,WACUpE,EADV,QAEaM,aAAe8H,IAAeC,QAF3C,gCAGcxI,EAASgF,KAHvB,OAIQlG,IAAQ2H,KAAR,gBAAsBjG,IAAWmF,KAAKjB,MAAtC,MAJR,uBAMQ1E,EAASb,EAAiBgB,EAAKW,SAAS+C,OAAS1D,EAAKW,SAAS,GAAK,iBACpE,OAACX,QAAD,IAACA,GAAD,UAACA,EAAMsI,oBAAP,aAAC,EAAoB5E,SAAU7D,EAASb,EAAmB,OACvDgB,EAAKM,aAAeiI,IAAqBC,oBAAzC,OAA8DxI,QAA9D,IAA8DA,GAA9D,UAA8DA,EAAMsI,oBAApE,aAA8D,EAAoB5E,SAClF7D,EAASkF,KATrB,4CADA,wDEnDaR,CAAMH,W,2BCrBVqE,GAAW,CACdC,SADc,WACsE,IAAD,4IAA1EC,EAA0E,+BAA5D,EAAGC,EAAyD,+BAA9C,GAAIC,EAA0C,+BAAnC,GAAIC,EAA+B,+BAAN,KAAM,SACnE7E,IAASC,IAAT,QAAoC,CAClD6E,OAAQ,CACJC,MAAOJ,EACPK,KAAMN,EACNE,KAAMA,EACNC,OAAQA,KANqE,cAC/E3E,EAD+E,yBAS9EA,EAAInE,MAT0E,8CAYnFkJ,OAbc,SAaPxK,GAAa,OAAD,0HACHuF,IAAS/E,KAAT,iBAAyCR,GAAM,MAD5C,cACfyF,EADe,yBAEdA,EAAInE,MAFU,8CAKnBmJ,SAlBc,SAkBLzK,GAAa,OAAD,0HACLuF,IAASI,OAAT,iBAA2C3F,IADtC,cACjByF,EADiB,yBAEhBA,EAAInE,MAFY,+CCbzBxB,GAAe,CACjB4K,MAAO,GACPR,SAAU,EACVS,gBAAiB,EACjBV,YAAa,EACbW,YAAY,EACZC,oBAAqB,GACrBvI,OAAQ,CACJ6H,KAAM,GACNC,OAAQ,OA0DH9J,GACU,SAACY,EAAgB4J,GAAjB,MACd,CAAE9L,KAAM,2BAA4BkC,SAAQ4J,mBAFxCxK,GAGC,SAACoK,GAAD,MAAwB,CAAE1L,KAAM,qBAAsB0L,UAHvDpK,GAIE,SAACgC,GAAD,MAAyB,CAAEtD,KAAM,sBAAuBkH,QAAS5D,IAJnEhC,GAKO,SAACiK,GAAD,MAAmB,CAAEvL,KAAM,4BAA6BuL,SAL/DjK,GAMI,SAACyK,GAAD,MAAmB,CAAE/L,KAAM,yBAA0B+L,SANzDzK,GAOW,SAACgK,GAAD,MAAoB,CAAEtL,KAAM,iCAAkCsL,UAPzEhK,GAQS,SAACsK,GAAD,MAA0B,CAAE5L,KAAM,8BAA+B4L,eAR1EtK,GASgB,SAACsK,EAAqB1J,GAAtB,MACpB,CAAElC,KAAM,wCAAyC4L,aAAY1J,WAGzD8I,GACT,SAACC,EAAqBC,EAAkB5H,GAAxC,8CACA,WAAOnB,EAAUQ,GAAjB,eAAAP,EAAA,6DACID,EAASb,IAAyB,IAClCa,EAASb,GAAuB2J,IAChC9I,EAASb,GAAoB4J,IAC7B/I,EAASb,GAAkBgC,IAJ/B,SAMuByH,GAASC,SAASC,EAAaC,EAAU5H,EAAO6H,KAAM7H,EAAO8H,QANpF,OAMU9I,EANV,OAOIH,EAASb,GAAiBgB,EAAK0J,QAC/B7J,EAASb,GAA2BgB,EAAK2J,aACzC9J,EAASb,IAAyB,IATtC,4CADA,yDAyBE4K,GAAmB,uCAAG,WACxB/J,EACAD,EACAiK,EACAC,GAJwB,SAAAhK,EAAA,6DAMxBD,EAASb,IAAgC,EAAMY,IANvB,SAOLiK,EAAUjK,GAPL,OAQA,IARA,OAQfU,WACLT,EAASb,GAA0BY,EAAQkK,IACxCnL,IAAQ2H,KAAR,oCACPzG,EAASb,IAAgC,EAAOY,IAXxB,2CAAH,4DAoBVmK,GAjHM,WAAwE,IAAvElJ,EAAsE,uDAA9DrC,GAAcsC,EAAgD,uCACxF,OAAQA,EAAOpD,MACX,IAAK,2BACD,OAAO,2BACAmD,GADP,IAEIuI,MAAOvI,EAAMuI,MAAM/F,KAAI,SAAC2G,GACpB,OAAIA,EAAKtL,KAAOoC,EAAOlB,OACZ,2BAAKoK,GAAZ,IAAkBC,SAAUnJ,EAAO0I,iBAEhCQ,OAGnB,IAAK,qBACD,OAAO,2BACAnJ,GADP,IAEIuI,MAAM,aAAKtI,EAAOsI,SAE1B,IAAK,4BACD,OAAO,2BACAvI,GADP,IAEI8H,YAAa7H,EAAOmI,OAE5B,IAAK,iCACD,OAAO,2BACApI,GADP,IAEIwI,gBAAiBvI,EAAOkI,QAEhC,IAAK,8BACD,OAAO,2BACAnI,GADP,IAEIyI,WAAYxI,EAAOwI,aAE3B,IAAK,sBACD,OAAO,2BACAzI,GADP,IAEIG,OAAQF,EAAO8D,UAEvB,IAAK,wCACD,OAAO,2BACA/D,GADP,IAEI0I,oBAAqBzI,EAAOwI,WAAP,uBACXzI,EAAM0I,qBADK,CACgBzI,EAAOlB,SACtCiB,EAAM0I,oBAAoBvI,QAAO,SAACtC,GAAD,OAAQA,IAAOoC,EAAOlB,YAErE,IAAK,yBACD,OAAO,2BACAiB,GADP,IAEI+H,SAAU9H,EAAO2I,OAEzB,QACI,OAAO5I,I,UC/DNqJ,GAAgBC,cAJQ,SAACtJ,GAClC,OAAOA,EAAMuJ,UAAUhB,SAGwC,SAACA,GAChE,OAAOA,EAAMpI,QAAO,SAACqJ,GAAD,OAAO,QAGlBC,GAAc,SAACzJ,GACxB,OAAOA,EAAMuJ,UAAUxB,UAGd2B,GAAqB,SAAC1J,GAC/B,OAAOA,EAAMuJ,UAAUf,iBAGdmB,GAAiB,SAAC3J,GAC3B,OAAOA,EAAMuJ,UAAUzB,aAGd8B,GAAgB,SAAC5J,GAC1B,OAAOA,EAAMuJ,UAAUd,YAGdoB,GAAyB,SAAC7J,GACnC,OAAOA,EAAMuJ,UAAUb,qBAGdoB,GAAiB,SAAC9J,GAC3B,OAAOA,EAAMuJ,UAAUpJ,Q,UCAZ4J,GAtB6B,SAAC,GAKtC,IAAD,IAJFjC,mBAIE,MAJY,EAIZ,MAHFkC,2BAGE,MAHoB,SAACC,GAAD,OAAOA,GAG3B,EAFFlC,EAEE,EAFFA,SACAS,EACE,EADFA,gBAEA,OACI,8BACI,cAAC,KAAD,CACInM,MAAO,CAAE6N,aAAc,IACvBnC,SAAUA,EACVoC,MAAO3B,EACP4B,QAAStC,EACT9K,SAAU,SAACoL,EAAML,GACbiC,EAAoB5B,EAAML,IAE9BsC,gBAAiB,CAAC,EAAG,GAAI,GAAI,S,8BClBrCC,GAASC,KAATD,KAuEOE,GA9DmB,SAAC,GAAqD,IAAnDrB,EAAkD,EAAlDA,KAAMT,EAA4C,EAA5CA,oBAAqBJ,EAAuB,EAAvBA,SAAUD,EAAa,EAAbA,OAChEoC,EAAU/F,aAAY,SAAC1E,GAAD,OAAyBA,EAAM2E,KAAK5F,UAC1DwF,EAAUC,cAEhB,OACI,cAAC,IAAD,CAAKtI,UAAU,aAAawO,GAAI,CAAEC,KAAM,GAAxC,SACI,cAAC,KAAD,CACIC,WAAS,EACTvO,MAAO,CAAEwO,MAAO,KAChBC,MACI,qBACI9H,IAAKmG,EAAKxK,OAAOoM,MAAQ5B,EAAKxK,OAAOoM,MAAQC,IAC7C3O,MAAO,CAAE4O,SAAU,KACnBhI,IAAI,SAGZuC,QAAS,WACLjB,EAAQxC,KAAK,YAAcoH,EAAKtL,KAEpCM,QAAS,CACLgL,EAAKC,SACD,cAAC,IAAD,CAAS/D,UAAU,QAAQ7I,MAAK,mBAAc2M,EAAKpM,MAAnD,SACI,cAAC,IAAD,CACIV,MAAO,CAAE6O,OAAQ,EAAGL,MAAO,QAC3BM,QAASzC,EAAoB0C,MAAK,SAACvN,GAAD,OAAgBA,IAAOsL,EAAKtL,MAE9D2H,QAAS,SAACvE,GACNA,EAAEoK,kBACF/C,EAASa,EAAKtL,IACdC,IAAQ2H,KAAR,4BAAkC0D,EAAKpM,QAP/C,SAUI,cAACuO,GAAA,EAAD,CAAoBjP,MAAO,CAAEgB,MAAO,UAAWkO,SAAU,OAPrD,cAWZ,cAAC,IAAD,CAASlG,UAAU,QAAQ7I,MAAK,iBAAY2M,EAAKpM,MAAjD,SACI,cAAC,IAAD,CACIV,MAAO,CAAE6O,OAAQ,EAAGL,MAAO,QAC3BM,QACIzC,EAAoB0C,MAAK,SAACvN,GAAD,OAAgBA,IAAOsL,EAAKtL,OACrDsL,EAAKtL,KAAO4M,EAGhBjF,QAAS,SAACvE,GACNA,EAAEoK,kBACFhD,EAAOc,EAAKtL,IACZC,IAAQ6B,QAAR,0BAAmCwJ,EAAKpM,QAVhD,SAaI,cAACyO,GAAA,EAAD,CAAiBnP,MAAO,CAAEgB,MAAO,UAAWkO,SAAU,OAPlD,aArCxB,SAkDI,cAACjB,GAAD,CAAM9N,MAAO2M,EAAKpM,KAAM0O,YAAatC,EAAKjL,c,8BChElDwN,GAAWC,KAAXD,OA8DOE,GAnD8BC,IAAMC,MAAK,SAAC7P,GACrD,IAAMkE,EAASuE,YAAYoF,IAErBjE,EAAoBC,MAAaC,MAAM,CACzCiC,KAAMlC,QAGJQ,EAASC,YAAU,CACrBwF,oBAAoB,EACpBvF,cAAe,CACXwB,KAAM7H,EAAO6H,KACbC,OAAQ+D,OAAO7L,EAAO8H,SAE1BvB,SAAU,SAACC,GACP,IAAMxG,EAAqB,CACvB6H,KAAMrB,EAAOqB,KACbC,OAA0B,SAAlBtB,EAAOsB,OAAoB,KAAyB,UAAlBtB,EAAOsB,QAErDhM,EAAMgQ,gBAAgB9L,IAE1B0G,iBAAkBhB,IAGtB,OACI,uBAAMa,SAAUJ,EAAOQ,aAAczK,MAAO,CAAE6N,aAAc,IAA5D,UACI,cAAC,KAAD,CACInN,KAAM,OACNV,MAAO,CAAEwO,MAAO,KAChB7N,SAAUsJ,EAAOS,aACjB7J,MAAOoJ,EAAOK,OAAOqB,KACrBnL,KAAM,SAEV,eAAC,KAAD,CACIK,MAAOoJ,EAAOK,OAAOsB,OACrB5L,MAAO,CAAEwO,MAAO,KAChB7N,SAAU,SAACE,GACPoJ,EAAO4F,cAAc,SAAUhP,IAEnCiP,SAAU7F,EAAOS,aANrB,UAQI,cAAC2E,GAAD,CAAQxO,MAAM,OAAd,iBACA,cAACwO,GAAD,CAAQxO,MAAM,OAAd,2BACA,cAACwO,GAAD,CAAQxO,MAAM,QAAd,gCAEJ,cAAC,IAAD,CAAQb,MAAO,CAAE+P,WAAY,IAAMlF,UAAWZ,EAAOc,QAASC,SAAS,SAAvE,SACI,cAACgF,GAAA,EAAD,Y,oBCmDDC,GAzFS,WACpB,IAAMtN,EAAWyF,cACXF,EAAUC,cAEZrE,EAASuE,YAAYoF,IACrBhC,EAAcpD,YAAYiF,IAC1B5B,EAAWrD,YAAY+E,IACrBjB,EAAkB9D,YAAYgF,IAC9BjB,EAAa/D,YAAYkF,IACzBrB,EAAQ7D,YAAY2E,IACpBX,EAAsBhE,YAAYmF,IAExCjE,qBAAU,WACN,IAAM2G,EAAQC,IAAYpL,MAAMmD,EAAQkI,SAASC,QAE7CH,EAAMnE,OAAMN,EAAcxI,OAAOiN,EAAMnE,OAEvCmE,EAAM3D,OAAMb,EAAWzI,OAAOiN,EAAM3D,OAEpC2D,EAAMvE,OAAM7H,EAAM,2BAAQA,GAAR,IAAgB6H,KAAMuE,EAAMvE,QAC9CuE,EAAMtE,SACN9H,EAAM,2BACCA,GADD,IAEF8H,OAAyB,SAAjBsE,EAAMtE,OAAoB,KAAwB,SAAjBsE,EAAMtE,UAGvDjJ,EAAS6I,GAASC,EAAaC,EAAU5H,MAC1C,IAEHyF,qBAAU,WACN,IAAM+G,EAA+B,GACjCxM,EAAO6H,OAAM2E,EAAY3E,KAAO7H,EAAO6H,MACrB,OAAlB7H,EAAO8H,SAAiB0E,EAAY1E,OAAS+D,OAAO7L,EAAO8H,SAC3C,IAAhBH,IAAmB6E,EAAYvE,KAAO4D,OAAOlE,IAChC,IAAbC,IAAgB4E,EAAY/D,KAAOoD,OAAOjE,IAC9CxD,EAAQxC,KAAK,CACT6K,SAAU,cACVF,OAAQF,IAAYK,UAAUF,OAEnC,CAAC7E,EAAa3H,EAAO8H,OAAQ9H,EAAO6H,KAAMzD,EAASwD,IAEtD,IAQMO,EAAW,SAACvJ,GACdC,EL+BJ,SAACD,GAAD,8CACA,WAAOC,GAAP,SAAAC,EAAA,sEACU8J,GAAoB/J,EAAUD,EAAQ6I,GAASU,SAASwE,KAAKlF,KAAW,GADlF,2CADA,sDK/BamF,CAAchO,KAGrBsJ,EAAS,SAACtJ,GACZC,ELqBJ,SAACD,GAAD,8CACA,WAAOC,GAAP,SAAAC,EAAA,sEACU8J,GAAoB/J,EAAUD,EAAQ6I,GAASS,OAAOyE,KAAKlF,KAAW,GADhF,2CADA,sDKrBaoF,CAAYjO,KAGzB,OACI,gCACI,cAAC,GAAD,CAAiBkN,gBAdD,SAAC9L,GACrBnB,EAAS6I,GAAS,EAAGE,EAAU5H,OAc3B,cAAC8M,GAAD,CACInF,YAAaA,EACbkC,oBArBgB,SAAC5B,GAA2C,IAA7BQ,EAA4B,uDAAbb,EACtD/I,EAAS6I,GAASO,EAAMQ,EAAMzI,KAqBtBqI,gBAAiBA,EACjBT,SAAUA,IAGbU,GAAc,cAAC,KAAD,CAAUyE,QAAM,EAACC,UAAW,CAAEC,KAAM,OAEjD3E,GACE,qCACI,cAAC,IAAD,CAAK4E,OAAQ,CAAC,GAAI,IAAlB,SACK9E,EAAM/F,KAAI,SAAC2G,GAAD,OACP,cAAC,GAAD,CACIA,KAAMA,EACNT,oBAAqBA,EACrBJ,SAAUA,EACVD,OAAQA,GACHc,EAAKtL,SAItB,cAAC,KAAD,WC1GdF,GAAe,CACjB2P,aAAa,GAeXnP,GACqB,iBAAO,CAAEtB,KAAM,0BAY3B0Q,GAzBI,WAAmE,IAAlEvN,EAAiE,uDAAzDrC,GAAcsC,EAA2C,uCACjF,MACS,0BADDA,EAAOpD,KAEA,2BACAmD,GADP,IAEIsN,aAAa,IAGVtN,G,6BCVXwN,GAAYC,IAAZD,QACAE,GAAUpJ,IAAVoJ,MAEKC,GAAmB,WAC5B,MAAkCC,oBAAkB,GAApD,oBAAOC,EAAP,KAAkBC,EAAlB,KAEA,OACI,eAACJ,GAAD,CACIK,aAAW,EACXF,UAAWA,EACXG,WAAY,kBAAMF,GAAcD,IAChCI,WAAW,KACX5R,MAAO,CAAE6R,UAAW,QALxB,UAOI,qBAAKhS,UAAU,SACf,eAAC,IAAD,CAAM8I,MAAM,OAAOC,KAAK,SAASC,oBAAqB,CAAC,KAAM7I,MAAO,CAAE8R,OAAQ,QAA9E,UACI,eAACX,GAAD,CAAoBY,KAAM,cAACC,GAAA,EAAD,IAAkB7R,MAAM,aAAlD,UACI,cAAC,IAAK2I,KAAN,UACI,cAAC,IAAD,CAAMC,GAAG,WAAT,sBADW,KAGf,cAAC,IAAKD,KAAN,UACI,cAAC,IAAD,CAAMC,GAAG,WAAT,uBADW,KAGf,cAAC,IAAKD,KAAN,UACI,cAAC,IAAD,CAAMC,GAAG,QAAT,mBADW,OAPN,QAWb,cAACoI,GAAD,CAAoBY,KAAM,cAACE,GAAA,EAAD,IAAoB9R,MAAM,aAApD,SACI,cAAC,IAAK2I,KAAN,UACI,cAAC,IAAD,CAAMC,GAAG,cAAT,yBADW,MADN,e,UC5BhBmJ,GAAuB,WAChC,MAA4CX,mBAAwB,MAApE,oBAAOY,EAAP,KAAuBC,EAAvB,KACMhC,EAAWiC,cAMjB,OAJA9I,qBAAU,WACN6I,EAAkBhC,EAASG,SAAS+B,QAAQ,IAAK,OAClD,CAAClC,IAGA,eAAC,KAAD,CAAYpQ,MAAO,CAAEuS,OAAQ,UAA7B,UACI,cAAC,KAAWzJ,KAAZ,UACI,cAAC,IAAD,CAAMC,GAAG,WAAT,oBAEgB,YAAnBoJ,GAAgC,cAAC,KAAWrJ,KAAZ,UAAkBqJ,QCAvDK,GAAoBvK,IAApBuK,QAASC,GAAWxK,IAAXwK,OAEXC,GAAUlD,IAAMmD,MAAK,kBAAM,iCAC3BC,GAAUpD,IAAMmD,MAAK,kBAAM,uDAC3BE,GAAWrD,IAAMmD,MAAK,kBAAM,iCAC5BG,GAAYtD,IAAMmD,MAAK,kBAAM,uDA4DpBI,GA1DO,WAClB,IAAM9B,EAAc5I,aAAY,SAAC1E,GAAD,OAAyBA,EAAMqP,IAAI/B,eAC7DtO,EAAWyF,cACX6K,ECxByB,WAC/B,IAAM7C,EAAWiC,cACjB,OAAOa,wBAAc9C,EAAU,CAC3B+C,KAAM,SAAC/C,GAAD,OAAcA,EAASG,UAC7B6C,KAAM,CAAE3K,QAAS,OAAQ4K,UAAW,aAAcC,QAAS,GAC3DC,MAAO,CAAE9K,QAAS,QAAS4K,UAAW,WAAYC,QAAS,GAC3DE,MAAO,CAAE/K,QAAS,UDkBFgL,GAMpB,OAJAlK,qBAAU,WACN5G,EHPqB,uCAAiB,WAAOA,GAAP,SAAAC,EAAA,sEACpCD,EAASgF,KAD2B,OAE1ChF,EAASb,MAFiC,2CAAjB,yDGQtB,CAACa,IAECsO,EAKD,eAAC,IAAD,CAAQjR,MAAO,CAAE8R,OAAQ,QAAS4B,UAAW,UAA7C,UACI,cAAC,EAAD,IACA,cAAClB,GAAD,CAASxS,MAAO,CAAE8R,OAAQ,QAA1B,SACI,eAAC,IAAD,CAAQjS,UAAU,yBAAyBG,MAAO,CAAE6R,UAAW,QAA/D,UACI,cAAC,GAAD,IACA,eAACW,GAAD,CAASxS,MAAO,CAAE2T,QAAS,SAAU9B,UAAW,QAAhD,UACI,cAAC,GAAD,IACCoB,GAAY,SAACrT,EAAOgU,GAAR,OACT,cAAC,WAASC,IAAV,CAAc7T,MAAOJ,EAArB,SACI,cAAC,WAAD,CAAUkU,SAAU,cAAC,KAAD,CAAUjD,QAAM,EAACC,UAAW,CAAEC,KAAM,KAAxD,SACI,eAAC,IAAD,CAAQX,SAAUwD,EAAlB,UACI,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,IAAD,CAAUZ,KAAK,IAAIrK,GAAG,eAE1B,cAAC,IAAD,CAAOiL,KAAK,WAAZ,SACI,cAACtB,GAAD,MAEJ,cAAC,IAAD,CAAOsB,KAAK,oBAAZ,SACI,cAACpB,GAAD,MAEJ,cAAC,IAAD,CAAOoB,KAAK,cAAZ,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACI,cAACnB,GAAD,MAEJ,cAAC,IAAD,CAAOmB,KAAK,IAAZ,SACI,cAAClB,GAAD,gBAMpB,cAACL,GAAD,CAAQzS,MAAO,CAAEiU,UAAW,UAA5B,4CAxCT,cAAC,EAAD,KEtBAC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,8BCPR7S,GAAe,GAMNqT,GAJQ,WAA6C,IAA5ChR,EAA2C,uDAAnCrC,GAC5B,OAAOqC,G,oBCOLiR,GAAcC,aAAgB,CAChCxR,YAAaK,KACboR,YAAa5Q,KACbgJ,UAAWL,GACXvE,KAAMP,EACNgN,QAASJ,GACT3B,IAAK9B,GACL8D,KAAM9O,OAYJ+O,GAAmBC,OAAOC,sCAAwCC,KAClEC,GAAQC,aAAYV,GAAaK,GAAiBM,aAAgBC,QAKxEN,OAAOO,UAAYJ,GAEJA,UC7BfK,IAASC,OACL,cAAC,IAAD,UACI,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGRO,SAASC,eAAe,SAM5B3B,M,gCCpBA,4IAaYhJ,EAKAG,EAlBZ,SAGayK,EAAS,uCAET/O,EALb,OAKwBgP,EAAMC,OAAO,CACjCC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAWL,M,SAIP5K,O,qBAAAA,I,kBAAAA,M,cAKAG,O,2CAAAA,M,yBCjBZjK,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,WAAa,kCAAkC,MAAQ,6BAA6B,SAAW,kC,8GCMzIwB,EAAa,CAChBJ,eADgB,SACDjB,GAAa,OAAD,0HACXuF,IAASC,IAAT,kBAAqCxF,IAD1B,cACvByF,EADuB,yBAEtBA,EAAInE,MAFkB,8CAK3BE,cANgB,SAMFxB,GAAa,OAAD,0HACVuF,IAASC,IAAT,yBAAuCxF,IAD7B,cACtByF,EADsB,yBAErBA,EAAInE,MAFiB,8CAK1BI,aAXgB,SAWHrB,GAAiB,OAAD,0HACbkF,IAASqP,IAAT,kBAAiD,CAAEvU,OAAQA,IAD9C,cACzBoF,EADyB,yBAExBA,EAAInE,MAFoB,8CAK7BuT,UAhBgB,SAgBNC,GAAa,OAAD,mHAClBC,EAAW,IAAIC,UACZC,OAAO,QAASH,GAFD,SAGNvP,IAASqP,IAAT,gBAAsEG,GAHhE,cAGlBtP,EAHkB,yBAIjBA,EAAInE,MAJa,8CAOtBS,cAvBgB,SAuBF3B,GAAuB,OAAD,0HACpBmF,IAASqP,IAAT,yBAA8CxU,IAD1B,cAChCqF,EADgC,yBAE/BA,EAAInE,MAF2B,iD","file":"static/js/main.0a808de6.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import s from './FormsControls.module.css';\nimport { Input } from 'antd';\nconst { TextArea } = Input;\n\ntype InputPropsType = {\n    name: string;\n    placeholder: string;\n    title?: string;\n    value: any;\n    htmlFor?: string;\n    type?: string;\n    touched?: any;\n    errors?: any;\n    isError?: any;\n    onBlur?: any;\n    onChange: any;\n};\nexport const BaseInput: React.FC<InputPropsType> = (props) => {\n    return (\n        <div className={s.inputWrapper}>\n            <label style={{ fontWeight: 'bold' }} htmlFor={props.htmlFor}>\n                {props.title}\n            </label>\n            <br />\n            <Input\n                className={`${s.input} ${props.touched && props.errors && s.inputError}`}\n                type={props.type}\n                placeholder={props.placeholder}\n                name={props.name}\n                onChange={props.onChange}\n                onBlur={props.onBlur}\n                value={props.value}\n            />\n            {props.touched && props.errors && <p className={s.error}>{props.errors}</p>}\n        </div>\n    );\n};\n\nexport const InputLow: React.FC<InputPropsType> = (props) => {\n    return (\n        <div>\n            <label htmlFor={props.htmlFor} style={{ color: props.isError && 'red', fontWeight: 'bold' }}>\n                {props.title}\n            </label>\n            <br />\n            <Input\n                className={`${s.input} ${props.isError && s.inputError}`}\n                type={props.type}\n                placeholder={props.placeholder}\n                name={props.name}\n                onChange={props.onChange}\n                onBlur={props.onBlur}\n                value={props.value}\n            />\n            {props.touched && props.errors && <p className={s.error}>{props.errors}</p>}\n        </div>\n    );\n};\n\ntype TextareaPropsType = {\n    name: string;\n    onBlur: any;\n    onChange: any;\n    placeholder: string;\n    value: string;\n};\nexport const Textarea: React.FC<TextareaPropsType> = (props) => {\n    return (\n        <div>\n            <TextArea className={s.textarea} {...props} />\n        </div>\n    );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2dvkO\",\"preloaderImg\":\"Preloader_preloaderImg__5oNSN\"};","import { BaseThunkType, InferActionsTypes } from './redux-store';\nimport { profileAPI } from '../api/profile-api';\nimport { PostType, ProfileType, PhotosType } from './../types/types';\nimport { message } from 'antd';\n\nconst initialState = {\n    posts: [\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\n        { id: 2, message: \"It's my post\", likesCount: 11 },\n        { id: 3, message: 'I have the best workplace', likesCount: 11 },\n        { id: 4, message: 'The weather is great today, but tomorrow it will be bad', likesCount: 11 }\n    ] as PostType[],\n    newPostText: '' as string,\n    profile: null as ProfileType | null,\n    status: '' as string,\n    errors: [] as string[]\n};\n\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case 'SN/PROFILE/ADD_POST':\n            const newPost = {\n                id: 5,\n                message: action.post,\n                likesCount: 0\n            };\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            };\n        case 'SN/PROFILE/SET_USER_PROFILE':\n            return {\n                ...state,\n                profile: action.profile\n            };\n        case 'SN/PROFILE/SET_STATUS':\n            return {\n                ...state,\n                status: action.status\n            };\n        case 'SN/PROFILE/SEVE_PHOTO_SUCCESS':\n            return {\n                ...state,\n                profile: { ...state.profile, photos: action.photos } as ProfileType\n            };\n        case 'SN/PROFILE/SET_ERROR':\n            return {\n                ...state,\n                errors: action.err\n            };\n        case 'SN/PROFILE/DELETE_POST':\n            return {\n                ...state,\n                posts: state.posts.filter((p) => p.id !== action.postId)\n            };\n        default:\n            return state;\n    }\n};\n\nexport const actions = {\n    addPost: (post: string) => ({ type: 'SN/PROFILE/ADD_POST', post } as const),\n    setUserProfile: (profile: ProfileType) => ({ type: 'SN/PROFILE/SET_USER_PROFILE', profile } as const),\n    setStatus: (status: string) => ({ type: 'SN/PROFILE/SET_STATUS', status } as const),\n    deletePost: (postId: number) => ({ type: 'SN/PROFILE/DELETE_POST', postId } as const),\n    savePhotoSuccess: (photos: PhotosType) => ({ type: 'SN/PROFILE/SEVE_PHOTO_SUCCESS', photos } as const),\n    setError: (err: string[]) => ({ type: 'SN/PROFILE/SET_ERROR', err } as const)\n};\n\nexport const getUserProfile =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        const data = await profileAPI.getUserProfile(userId);\n        dispatch(actions.setUserProfile(data));\n    };\n\nexport const getStatus =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        const data = await profileAPI.getUserStatus(Number(userId));\n        dispatch(actions.setStatus(data));\n    };\n\nexport const updateStatus =\n    (status: string): ThunkType =>\n    async (dispatch, getState) => {\n        const data = await profileAPI.updateStatus(status);\n        if (data.resultCode === 0) {\n            if (getState().profilePage.status !== status) message.success('Status updated');\n            dispatch(actions.setStatus(status));\n        }\n    };\n\nexport const savePhoto =\n    (file: File): ThunkType =>\n    async (dispatch) => {\n        const data = await profileAPI.savePhoto(file);\n        if (data.resultCode === 0) {\n            dispatch(actions.savePhotoSuccess(data.data.photos));\n        }\n    };\n\nexport const updateProfile =\n    (profileData: ProfileType): ThunkType =>\n    async (dispatch) => {\n        const data = await profileAPI.updateProfile(profileData);\n        if (data.resultCode === 0) {\n            dispatch(getUserProfile(profileData.userId));\n            dispatch(actions.setError([]));\n            message.success('Profile is saved');\n        } else {\n            dispatch(actions.setError(data.messages));\n        }\n    };\n\nexport type InitialStateType = typeof initialState;\ntype ActionsTypes = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsTypes>;\n\nexport default profileReducer;\n","import { InferActionsTypes } from './redux-store';\n\nconst initialState = {\n    dialogs: [\n        { id: 1, name: 'Kirill' },\n        { id: 2, name: 'Andrew' },\n        { id: 3, name: 'Sveta' },\n        { id: 4, name: 'Sasha' },\n        { id: 5, name: 'Viktor' },\n        { id: 6, name: 'Valera' }\n    ] as DialogType[],\n    messages: [\n        { id: 1, message: 'Hi' },\n        { id: 2, message: 'Hello' },\n        { id: 3, message: 'Bye' },\n        { id: 4, message: 'Find phone' },\n        { id: 5, message: 'Hello' }\n    ] as MessageType[]\n};\n\nconst dialogsReducer = (state = initialState, action: ActionsTypes): InitialDialogsStateType => {\n    switch (action.type) {\n        case 'SN/DIALOGS/SEND_MESSAGE':\n            return {\n                ...state,\n                messages: [...state.messages, { id: 6, message: action.message }]\n            };\n        default:\n            return state;\n    }\n};\n\nexport const actions = {\n    sendMessage: (message: string) => ({ type: 'SN/DIALOGS/SEND_MESSAGE', message } as const)\n};\n\ntype ActionsTypes = InferActionsTypes<typeof actions>;\nexport type InitialDialogsStateType = typeof initialState;\nexport type DialogType = {\n    id: number;\n    name: string;\n};\nexport type MessageType = {\n    id: number;\n    message: string;\n};\n\nexport default dialogsReducer;\n","let subscribers = {\n    'messages-received': [] as MessagesReceivedSubscriberType[],\n    'status-changed': [] as StatusChangedSubscriberType[]\n};\n\nlet ws: WebSocket | null = null;\n\nconst closeHendler = () => {\n    console.log('close WS');\n    subscribers['status-changed'].forEach((s) => s('pending'));\n    setTimeout(() => {\n        connectWS();\n    }, 3000);\n};\n\nconst messageHandler = (e: MessageEvent) => {\n    const newMessages = JSON.parse(e.data);\n    subscribers['messages-received'].forEach((s) => s(newMessages));\n};\n\nconst openHandler = () => {\n    subscribers['status-changed'].forEach((s) => s('ready'));\n};\n\nconst errorHandler = () => {\n    subscribers['status-changed'].forEach((s) => s('error'));\n    console.error('Restart page');\n};\n\nconst cleanUp = () => {\n    ws?.removeEventListener('close', closeHendler);\n    ws?.removeEventListener('message', messageHandler);\n    ws?.removeEventListener('open', openHandler);\n    ws?.removeEventListener('error', errorHandler);\n};\n\nexport function connectWS() {\n    cleanUp();\n    ws?.close();\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\n    subscribers['status-changed'].forEach((s) => s('pending'));\n    ws.addEventListener('close', closeHendler);\n    ws.addEventListener('message', messageHandler);\n    ws.addEventListener('open', openHandler);\n    ws.addEventListener('error', errorHandler);\n}\n\nexport const chatAPI = {\n    start() {\n        connectWS();\n    },\n    stop() {\n        subscribers['messages-received'] = [];\n        subscribers['status-changed'] = [];\n        cleanUp();\n        ws?.close();\n    },\n    subscribe(\n        eventName: EventsNamesType,\n        callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType\n    ) {\n        // @ts-ignore\n        subscribers[eventName].push(callback);\n        return () => {\n            // @ts-ignore\n            subscribers[eventName] = subscribers[eventName].filter((s) => s !== callback);\n        };\n    },\n    unsubscribe(\n        eventName: EventsNamesType,\n        callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType\n    ) {\n        // @ts-ignore\n        subscribers[eventName] = subscribers[eventName].filter((s) => s !== callback);\n    },\n    sendMessage(message: string) {\n        ws?.send(message);\n    }\n};\n\ntype EventsNamesType = 'messages-received' | 'status-changed';\nexport type MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void;\nexport type StatusChangedSubscriberType = (status: StatusType) => void;\nexport type StatusType = 'pending' | 'ready' | 'error';\n\nexport type ChatMessageAPIType = {\n    message: string;\n    photo: string;\n    userId: number;\n    userName: string;\n};\n","import { Dispatch } from 'redux';\nimport { chatAPI, ChatMessageAPIType, StatusType } from '../api/chat-api';\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\nimport { v1 } from 'uuid';\n\nconst initialState = {\n    messages: [] as ChatMessageType[],\n    status: 'pending' as StatusType\n};\n\nconst chatReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case 'SN/CHAT/MESSAGES_RECEVIED':\n            return {\n                ...state,\n                messages: [...state.messages, ...action.messages.map((m) => ({ ...m, id: v1() }))].filter(\n                    (m, index, arr) => index >= arr.length - 100\n                )\n            };\n        case 'SN/CHAT/STATUS_CHANGED':\n            return {\n                ...state,\n                status: action.status\n            };\n        default:\n            return state;\n    }\n};\n\nconst actions = {\n    messagesReceived: (messages: ChatMessageAPIType[]) =>\n        ({ type: 'SN/CHAT/MESSAGES_RECEVIED', messages } as const),\n    statusChanged: (status: StatusType) => ({ type: 'SN/CHAT/STATUS_CHANGED', status } as const)\n};\n\nlet _newMessagesHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\n\nconst newMessagesHandlerCreator = (dispatch: Dispatch) => {\n    if (_newMessagesHandler === null) {\n        _newMessagesHandler = (messages) => {\n            dispatch(actions.messagesReceived(messages));\n        };\n    }\n\n    return _newMessagesHandler;\n};\n\nlet _newStatusHandler: ((status: StatusType) => void) | null = null;\n\nconst newStatusHandlerCreator = (dispatch: Dispatch) => {\n    if (_newStatusHandler === null) {\n        _newStatusHandler = (status) => {\n            dispatch(actions.statusChanged(status));\n        };\n    }\n\n    return _newStatusHandler;\n};\n\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\n    chatAPI.start();\n    chatAPI.subscribe('messages-received', newMessagesHandlerCreator(dispatch));\n    chatAPI.subscribe('status-changed', newStatusHandlerCreator(dispatch));\n};\n\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\n    chatAPI.unsubscribe('messages-received', newMessagesHandlerCreator(dispatch));\n    chatAPI.unsubscribe('status-changed', newStatusHandlerCreator(dispatch));\n    chatAPI.stop();\n};\n\nexport const sendMessage =\n    (message: string): ThunkType =>\n    async () => {\n        chatAPI.sendMessage(message);\n    };\n\ntype ActionsTypes = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsTypes>;\nexport type ChatMessageType = ChatMessageAPIType & { id: string };\nexport type InitialStateType = typeof initialState;\n\nexport default chatReducer;\n","export default __webpack_public_path__ + \"static/media/preloader.86c721f1.svg\";","import s from './Preloader.module.css';\nimport preloader from '../../../assets/images/preloader.svg';\n\nconst Preloader = () => {\n    return (\n        <div className={s.preloader}>\n            <img src={preloader} alt=\"preloader\" className={s.preloaderImg} />\n        </div>\n    );\n};\n\nexport default Preloader;\n","import { loginData } from './../redux/auth-reducer';\nimport { instance, APIResponseType } from './api';\n\nexport type MeResponseDataType = {\n    id: number;\n    email: string;\n    login: string;\n};\n\nexport type GetCaptchaResponseType = {\n    url: string;\n};\n\nexport type LoginResponseType = {\n    data: { userId: number };\n};\n\nexport const authAPI = {\n    async me() {\n        const res = await instance.get<APIResponseType<MeResponseDataType>>(`auth/me`);\n        return res.data;\n    },\n\n    async login(loginData: loginData) {\n        const res = await instance.post<APIResponseType<LoginResponseType>>('/auth/login', { ...loginData });\n        return res.data;\n    },\n\n    async logout() {\n        const res = await instance.delete('/auth/login');\n        return res.data;\n    },\n\n    async getCaptcha() {\n        return await instance.delete<GetCaptchaResponseType>('/security/get-captcha-url');\n    },\n};\n","import { ProfileType } from './../types/types';\nimport { ResultCodeEnum, ResultCodeForCaptcha } from '../api/api';\nimport { authAPI } from '../api/auth-api';\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\nimport { message } from 'antd';\nimport { profileAPI } from '../api/profile-api';\n\nconst initialState = {\n    userId: null as number | null,\n    email: null as string | null,\n    login: null as string | null,\n    isAuth: false as boolean,\n    errorMessage: null as string | null,\n    captcha: null as string | null,\n    meProfile: null as ProfileType | null\n};\n\nconst authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case 'SN/AUTH/SET_USER_DATA':\n            return {\n                ...state,\n                ...action.payload\n            };\n        case 'SN/AUTH/SET_LOGOUT_USER_DATA':\n            return {\n                ...initialState\n            };\n        case 'SN/AUTH/SET_ERROR':\n            return {\n                ...state,\n                errorMessage: action.error\n            };\n        case 'SN/AUTH/SET_CAPTCHA':\n            return {\n                ...state,\n                captcha: action.captcha\n            };\n        case 'SN/AUTH/SET_ME_PROFILE':\n            return {\n                ...state,\n                meProfile: action.profile\n            };\n        default:\n            return state;\n    }\n};\n\nconst actions = {\n    setAuthUserData: (userId: number, email: string, login: string, isAuth: boolean) =>\n        ({ type: 'SN/AUTH/SET_USER_DATA', payload: { userId, email, login, isAuth } } as const),\n    setCaptcha: (captcha: string | null) => ({ type: 'SN/AUTH/SET_CAPTCHA', captcha } as const),\n    setLogoutUserData: () => ({ type: 'SN/AUTH/SET_LOGOUT_USER_DATA' } as const),\n    setError: (error: string) => ({ type: 'SN/AUTH/SET_ERROR', error } as const),\n    setMeProfile: (profile: ProfileType) => ({ type: 'SN/AUTH/SET_ME_PROFILE', profile } as const)\n};\n\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\n    const data = await authAPI.me();\n    if (data.resultCode === 0) {\n        const { id, login, email } = data.data;\n        dispatch(actions.setAuthUserData(id, email, login, true));\n        dispatch(getMeProfile(id));\n    }\n};\n\nexport const getMeProfile =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        const data = await profileAPI.getUserProfile(userId);\n        dispatch(actions.setMeProfile(data));\n    };\n\nexport const login =\n    (loginData: loginData): ThunkType =>\n    async (dispatch, getState) => {\n        const data = await authAPI.login(loginData);\n        if (data.resultCode === ResultCodeEnum.Success) {\n            await dispatch(getAuthUserData());\n            message.info(`Hello ${getState().auth.login}!`);\n        } else {\n            dispatch(actions.setError(data.messages.length ? data.messages[0] : 'Some error'));\n            !data?.fieldsErrors?.length && dispatch(actions.setCaptcha(null));\n            if (data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired && data?.fieldsErrors?.length) {\n                dispatch(getCaptcha());\n            }\n        }\n    };\n\nexport const getCaptcha = (): ThunkType => async (dispatch) => {\n    const res = await authAPI.getCaptcha();\n    dispatch(actions.setCaptcha(res.data.url));\n};\n\nexport const logout = (): ThunkType => async (dispatch, getState) => {\n    message.info(`Bye ${getState().auth.login}!`);\n    const data = await authAPI.logout();\n    if (data.resultCode === 0) {\n        dispatch(actions.setLogoutUserData());\n    }\n};\n\ntype ActionsTypes = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsTypes>;\nexport type InitialStateType = typeof initialState;\nexport type loginData = {\n    email: string | null;\n    password: string | null;\n    rememberMe: boolean | null;\n    captcha: string | null;\n};\n\nexport default authReducer;\n","import mockPhoto from '../../assets/images/avatar.png';\nimport { Avatar, Col, Layout, Menu, Row, Button, Tooltip } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { logout } from '../../redux/auth-reducer';\nimport { AppStateType } from '../../redux/redux-store';\n\nconst Header: React.FC = () => {\n    const { Header } = Layout;\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\n    const login = useSelector((state: AppStateType) => state.auth.login);\n    const photo = useSelector((state: AppStateType) => state.auth.meProfile?.photos?.large);\n\n    const getLogout = () => {\n        dispatch(logout());\n        history.push('/login');\n    };\n\n    return (\n        <Header>\n            <div className=\"logo\" />\n            <Row style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <Col>\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\n                        <Menu.Item key=\"1\">\n                            <Link to=\"/developers\">Developers</Link>\n                        </Menu.Item>\n                    </Menu>\n                </Col>\n                {isAuth ? (\n                    <div style={{ display: 'flex' }}>\n                        <Col>\n                            <Tooltip placement=\"bottom\" title={login || ''}>\n                                <Link to={'/profile'} style={{ marginRight: 15 }}>\n                                    <Avatar src={photo || mockPhoto} />\n                                </Link>\n                            </Tooltip>\n                        </Col>\n                        <Col>\n                            <Button onClick={getLogout}>Log out</Button>\n                        </Col>\n                    </div>\n                ) : (\n                    <Col>\n                        <Button>\n                            <Link to=\"/login\">Login</Link>\n                        </Button>\n                    </Col>\n                )}\n            </Row>\n        </Header>\n    );\n};\n\nexport default Header;\n","import { useFormik } from 'formik';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../redux/auth-reducer';\nimport * as Yup from 'yup';\nimport { BaseInput } from '../common/FormsControls/FormsControls';\nimport { Redirect } from 'react-router';\nimport { AppStateType } from '../../redux/redux-store';\nimport { Button, message, Checkbox } from 'antd';\nimport { useEffect } from 'react';\n\nconst Login: React.FC = () => {\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\n    const dispatch = useDispatch();\n\n    if (isAuth) {\n        return <Redirect to={'/profile'} />;\n    }\n\n    const authLogin = (values: LoginValuesType) => {\n        const loginData = { ...values };\n        for (const value in loginData) {\n            if (value === 'confirmPassword') delete loginData[value];\n        }\n        dispatch(login(loginData));\n    };\n\n    return (\n        <div>\n            <h1>Login</h1>\n            <LoginForm authLogin={authLogin} />\n        </div>\n    );\n};\n\nexport type LoginValuesType = {\n    email: string;\n    password: string;\n    confirmPassword?: string;\n    captcha: string;\n    rememberMe: boolean;\n};\n\ntype LoginFormPropsType = {\n    authLogin: (values: LoginValuesType) => void;\n};\nconst LoginForm: React.FC<LoginFormPropsType> = ({ authLogin }) => {\n    const captcha = useSelector((state: AppStateType) => state.auth.captcha);\n    const errorMessage = useSelector((state: AppStateType) => state.auth.errorMessage);\n\n    useEffect(() => {\n        if (errorMessage) message.error(errorMessage);\n    }, [errorMessage]);\n\n    const validationsSchema = Yup.object<Record<keyof LoginValuesType, Yup.AnySchema>>().shape({\n        email: Yup.string().email('Не валидный email').required('Логин обязателен'),\n        password: Yup.string()\n            .typeError('Должно быть строкой')\n            .max(15, 'Must be 15 characters or less')\n            .required('Пароль обязателен'),\n        confirmPassword: Yup.string()\n            .oneOf([Yup.ref('password')], 'Пароли не совпадают')\n            .required('Подтверждение пароля обязательно'),\n        //@ts-ignore\n        captcha: captcha && Yup.string().required('Поле обязательно')\n    });\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            captcha: '',\n            rememberMe: false\n        },\n        onSubmit: (values: any, { resetForm }) => {\n            authLogin(values);\n            values.captcha = '';\n\n            // errorMessage && resetForm();\n        },\n        validationSchema: validationsSchema\n    });\n\n    const loginInputs = [\n        { name: 'email', title: 'Логин', placeholder: 'Login', type: 'text' },\n        { name: 'password', title: 'Пароль', placeholder: 'Password', type: 'password' },\n        {\n            name: 'confirmPassword',\n            title: 'Подтвердите Пароль',\n            placeholder: 'Confirm password',\n            type: 'password'\n        }\n    ];\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            {loginInputs.map((input, index) => (\n                <BaseInput\n                    key={index}\n                    title={input.title}\n                    type={input.type}\n                    placeholder={input.placeholder}\n                    name={input.name}\n                    onChange={formik.handleChange}\n                    onBlur={formik.handleBlur}\n                    value={formik.values[input.name]}\n                    touched={formik.touched[input.name]}\n                    errors={formik.errors[input.name]}\n                />\n            ))}\n            <div>\n                <Checkbox\n                    onChange={formik.handleChange}\n                    checked={formik.values.rememberMe}\n                    name={'rememberMe'}\n                >\n                    remember me\n                </Checkbox>\n            </div>\n            {captcha && (\n                <div>\n                    <img src={captcha} alt=\"captcha\" />\n                    <BaseInput\n                        type=\"text\"\n                        name={'captcha'}\n                        value={formik.values.captcha}\n                        onBlur={formik.handleBlur}\n                        onChange={formik.handleChange}\n                        placeholder={'input captcha'}\n                    />\n                </div>\n            )}\n            <div>\n                <p style={{ color: 'red' }}>{errorMessage}</p>\n                <Button disabled={!formik.dirty || !formik.isValid} htmlType=\"submit\">\n                    Login\n                </Button>\n            </div>\n        </form>\n    );\n};\n\nexport default Login;\n","import { GetItemsType, instance, APIResponseType } from './api';\n\nexport const usersAPI = {\n    async getUsers(currentPage = 1, pageSize = 10, term = '', friend: null | boolean = null) {\n        const res = await instance.get<GetItemsType>(`users`, {\n            params: {\n                count: pageSize,\n                page: currentPage,\n                term: term,\n                friend: friend\n            }\n        });\n        return res.data;\n    },\n\n    async follow(id: number) {\n        const res = await instance.post<APIResponseType>(`follow/${id}`, null);\n        return res.data;\n    },\n\n    async unFollow(id: number) {\n        const res = await instance.delete<APIResponseType>(`follow/${id}`);\n        return res.data;\n    }\n};\n","import { BaseThunkType, InferActionsTypes } from './redux-store';\nimport { UserType } from './../types/types';\nimport { Dispatch } from 'redux';\nimport { usersAPI } from '../api/users-api';\nimport { APIResponseType } from '../api/api';\nimport { message } from 'antd';\n\nconst initialState = {\n    users: [] as UserType[],\n    pageSize: 8,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [] as number[], //array of users ids,\n    filter: {\n        term: '',\n        friend: null as null | boolean\n    }\n};\n\nconst usersReducer = (state = initialState, action: ActionsTypes): UsersInitialStateType => {\n    switch (action.type) {\n        case 'SN/USERS/FOLLOW_UNFOLLOW':\n            return {\n                ...state,\n                users: state.users.map((user) => {\n                    if (user.id === action.userId) {\n                        return { ...user, followed: action.followedStatus };\n                    }\n                    return user;\n                })\n            };\n        case 'SN/USERS/SET_USERS':\n            return {\n                ...state,\n                users: [...action.users]\n            };\n        case 'SN/USERS/SET_CURRENT_PAGE':\n            return {\n                ...state,\n                currentPage: action.page\n            };\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT':\n            return {\n                ...state,\n                totalUsersCount: action.count\n            };\n        case 'SN/USERS/TOGGLE_IS_FETCHING':\n            return {\n                ...state,\n                isFetching: action.isFetching\n            };\n        case 'SN/USERS/SET_FILTER':\n            return {\n                ...state,\n                filter: action.payload\n            };\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter((id) => id !== action.userId)\n            };\n        case 'SN/USERS/SET_PAGE_SIZE':\n            return {\n                ...state,\n                pageSize: action.size\n            };\n        default:\n            return state;\n    }\n};\n\nexport const actions = {\n    setFollowUnfollow: (userId: number, followedStatus: boolean) =>\n        ({ type: 'SN/USERS/FOLLOW_UNFOLLOW', userId, followedStatus } as const),\n    setUsers: (users: UserType[]) => ({ type: 'SN/USERS/SET_USERS', users } as const),\n    setFilter: (filter: FilterType) => ({ type: 'SN/USERS/SET_FILTER', payload: filter } as const),\n    setCurrentPage: (page: number) => ({ type: 'SN/USERS/SET_CURRENT_PAGE', page } as const),\n    setPageSize: (size: number) => ({ type: 'SN/USERS/SET_PAGE_SIZE', size } as const),\n    setTotalUsersCount: (count: number) => ({ type: 'SN/USERS/SET_TOTAL_USERS_COUNT', count } as const),\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching } as const),\n    toggleFollowingProgress: (isFetching: boolean, userId: number) =>\n        ({ type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\n};\n\nexport const getUsers =\n    (currentPage: number, pageSize: number, filter: FilterType): ThunkType =>\n    async (dispatch, getState) => {\n        dispatch(actions.toggleIsFetching(true));\n        dispatch(actions.setCurrentPage(currentPage));\n        dispatch(actions.setPageSize(pageSize));\n        dispatch(actions.setFilter(filter));\n\n        const data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\n        dispatch(actions.setUsers(data.items));\n        dispatch(actions.setTotalUsersCount(data.totalCount));\n        dispatch(actions.toggleIsFetching(false));\n    };\n\nexport const followThunk =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), true);\n    };\n\nexport const unFollowThunk =\n    (userId: number): ThunkType =>\n    async (dispatch) => {\n        await _followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), false);\n    };\n\nconst _followUnfollowFlow = async (\n    dispatch: Dispatch<ActionsTypes>,\n    userId: number,\n    apiMethod: (userId: number) => Promise<APIResponseType>,\n    followStatus: boolean\n) => {\n    dispatch(actions.toggleFollowingProgress(true, userId));\n    const data = await apiMethod(userId);\n    if (data.resultCode === 0) {\n        dispatch(actions.setFollowUnfollow(userId, followStatus));\n    } else message.info(`An error occurred in the process`);\n    dispatch(actions.toggleFollowingProgress(false, userId));\n};\n\nexport type UsersInitialStateType = typeof initialState;\nexport type FilterType = typeof initialState.filter;\ntype ActionsTypes = InferActionsTypes<typeof actions>;\n// type GetStateType = () => AppStateType;\ntype ThunkType = BaseThunkType<ActionsTypes>;\n\nexport default usersReducer;\n","import { AppStateType } from './redux-store';\nimport { createSelector } from 'reselect';\n\nexport const getUsersStateSelector = (state: AppStateType) => {\n    return state.usersPage.users;\n};\n\nexport const getUsersState = createSelector(getUsersStateSelector, (users) => {\n    return users.filter((u) => true);\n});\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount;\n};\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching;\n};\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress;\n};\n\nexport const getUsersFilter = (state: AppStateType) => {\n    return state.usersPage.filter;\n};\n","import { Pagination } from 'antd';\n\ntype PropsType = {\n    portionSize?: number;\n    currentPage?: number;\n    pageSize: number;\n    totalUsersCount: number;\n    onPaginationChanged?: (page: number, size?: number) => void;\n};\n\nconst PaginationBase: React.FC<PropsType> = ({\n    currentPage = 1,\n    onPaginationChanged = (x) => x,\n    pageSize,\n    totalUsersCount\n}) => {\n    return (\n        <div>\n            <Pagination\n                style={{ marginBottom: 10 }}\n                pageSize={pageSize}\n                total={totalUsersCount}\n                current={currentPage}\n                onChange={(page, pageSize) => {\n                    onPaginationChanged(page, pageSize);\n                }}\n                pageSizeOptions={[8, 16, 32, 96]}\n            />\n        </div>\n    );\n};\n\nexport default PaginationBase;\n","import userPhoto from '../../assets/images/avatar.png';\nimport { useHistory } from 'react-router-dom';\nimport { UserType } from '../../types/types';\nimport { useSelector } from 'react-redux';\nimport { AppStateType } from '../../redux/redux-store';\nimport { Card, Col, Tooltip, message, Button } from 'antd';\nimport { UserAddOutlined, UserDeleteOutlined } from '@ant-design/icons';\n\nconst { Meta } = Card;\n\ntype PropsType = {\n    user: UserType;\n    followingInProgress: number[];\n    unFollow: (id: number) => void;\n    follow: (id: number) => void;\n};\n\nconst User: React.FC<PropsType> = ({ user, followingInProgress, unFollow, follow }) => {\n    const ownerId = useSelector((state: AppStateType) => state.auth.userId);\n    const history = useHistory();\n\n    return (\n        <Col className=\"gutter-row\" xl={{ span: 6 }}>\n            <Card\n                hoverable\n                style={{ width: 210 }}\n                cover={\n                    <img\n                        src={user.photos.small ? user.photos.small : userPhoto}\n                        style={{ maxWidth: 250 }}\n                        alt=\"user\"\n                    />\n                }\n                onClick={() => {\n                    history.push('/profile/' + user.id);\n                }}\n                actions={[\n                    user.followed ? (\n                        <Tooltip placement=\"right\" title={`Unfollow ${user.name}`}>\n                            <Button\n                                style={{ border: 0, width: '100%' }}\n                                loading={followingInProgress.some((id: number) => id === user.id)}\n                                key=\"unfollow\"\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    unFollow(user.id);\n                                    message.info(`You unfollow from ${user.name}`);\n                                }}\n                            >\n                                <UserDeleteOutlined style={{ color: '#ff7070', fontSize: 24 }} />\n                            </Button>\n                        </Tooltip>\n                    ) : (\n                        <Tooltip placement=\"right\" title={`Follow ${user.name}`}>\n                            <Button\n                                style={{ border: 0, width: '100%' }}\n                                loading={\n                                    followingInProgress.some((id: number) => id === user.id) ||\n                                    user.id === ownerId\n                                }\n                                key=\"follow\"\n                                onClick={(e) => {\n                                    e.stopPropagation();\n                                    follow(user.id);\n                                    message.success(`You follow from ${user.name}`);\n                                }}\n                            >\n                                <UserAddOutlined style={{ color: '#00810d', fontSize: 24 }} />\n                            </Button>\n                        </Tooltip>\n                    )\n                ]}\n            >\n                <Meta title={user.name} description={user.status} />\n            </Card>\n        </Col>\n    );\n};\n\nexport default User;\n","import { useFormik } from 'formik';\nimport { FilterType } from '../../redux/users-reducer';\nimport * as Yup from 'yup';\nimport React from 'react';\nimport { getUsersFilter } from '../../redux/users-selectors';\nimport { useSelector } from 'react-redux';\nimport { Button, Select, Input } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\ntype PropsType = {\n    onFilterChanged: (filter: FilterType) => void;\n};\n\ntype FormType = {\n    term: string;\n    friend: 'true' | 'false' | 'null';\n};\n\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\n    const filter = useSelector(getUsersFilter);\n\n    const validationsSchema = Yup.object().shape({\n        term: Yup.string()\n    });\n\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            term: filter.term,\n            friend: String(filter.friend) as 'true' | 'false' | 'null'\n        },\n        onSubmit: (values: FormType) => {\n            const filter: FilterType = {\n                term: values.term,\n                friend: values.friend === 'null' ? null : values.friend === 'false' ? false : true\n            };\n            props.onFilterChanged(filter);\n        },\n        validationSchema: validationsSchema\n    });\n\n    return (\n        <form onSubmit={formik.handleSubmit} style={{ marginBottom: 10 }}>\n            <Input\n                name={'term'}\n                style={{ width: 230 }}\n                onChange={formik.handleChange}\n                value={formik.values.term}\n                type={'text'}\n            />\n            <Select\n                value={formik.values.friend}\n                style={{ width: 130 }}\n                onChange={(value) => {\n                    formik.setFieldValue('friend', value);\n                }}\n                onSelect={formik.handleChange}\n            >\n                <Option value=\"null\">All</Option>\n                <Option value=\"true\">Only followed</Option>\n                <Option value=\"false\">Only unfollowed</Option>\n            </Select>\n            <Button style={{ marginLeft: 30 }} disabled={!formik.isValid} htmlType=\"submit\">\n                <SearchOutlined />\n            </Button>\n        </form>\n    );\n});\n\nexport default UsersSearchForm;\n","import { useEffect } from 'react';\nimport queryString from 'query-string';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { FilterType, followThunk, getUsers, unFollowThunk } from '../../redux/users-reducer';\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersFilter,\n    getUsersState\n} from '../../redux/users-selectors';\nimport { UserType } from '../../types/types';\nimport Pagination from '../common/Paginate/Pagination';\nimport User from './User';\nimport UsersSearchForm from './UsersSearchForm';\nimport { Row, BackTop, Skeleton } from 'antd';\n\ntype QueryParamsType = {\n    term?: string;\n    page?: string;\n    friend?: string;\n    size?: string;\n};\n\nconst Users: React.FC = () => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    let filter = useSelector(getUsersFilter);\n    let currentPage = useSelector(getCurrentPage);\n    let pageSize = useSelector(getPageSize);\n    const totalUsersCount = useSelector(getTotalUsersCount);\n    const isFetching = useSelector(getIsFetching);\n    const users = useSelector(getUsersState);\n    const followingInProgress = useSelector(getFollowingInProgress);\n\n    useEffect(() => {\n        const query = queryString.parse(history.location.search) as QueryParamsType;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.page) currentPage = Number(query.page);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.size) pageSize = Number(query.size);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        if (query.term) filter = { ...filter, term: query.term };\n        if (query.friend)\n            filter = {\n                ...filter,\n                friend: query.friend === 'null' ? null : query.friend === 'true' ? true : false\n            };\n\n        dispatch(getUsers(currentPage, pageSize, filter));\n    }, []);\n\n    useEffect(() => {\n        const queryParams: QueryParamsType = {};\n        if (filter.term) queryParams.term = filter.term;\n        if (filter.friend !== null) queryParams.friend = String(filter.friend);\n        if (currentPage !== 1) queryParams.page = String(currentPage);\n        if (pageSize !== 5) queryParams.size = String(pageSize);\n        history.push({\n            pathname: '/developers',\n            search: queryString.stringify(queryParams)\n        });\n    }, [currentPage, filter.friend, filter.term, history, pageSize]);\n\n    const onPaginationChanged = (page: number, size: number = pageSize) => {\n        dispatch(getUsers(page, size, filter));\n    };\n\n    const onFilterChanged = (filter: FilterType) => {\n        dispatch(getUsers(1, pageSize, filter));\n    };\n\n    const unFollow = (userId: number) => {\n        dispatch(unFollowThunk(userId));\n    };\n\n    const follow = (userId: number) => {\n        dispatch(followThunk(userId));\n    };\n\n    return (\n        <div>\n            <UsersSearchForm onFilterChanged={onFilterChanged} />\n            <Pagination\n                currentPage={currentPage}\n                onPaginationChanged={onPaginationChanged}\n                totalUsersCount={totalUsersCount}\n                pageSize={pageSize}\n            />\n\n            {isFetching && <Skeleton active paragraph={{ rows: 10 }} />}\n\n            {!isFetching && (\n                <>\n                    <Row gutter={[16, 24]}>\n                        {users.map((user: UserType) => (\n                            <User\n                                user={user}\n                                followingInProgress={followingInProgress}\n                                unFollow={unFollow}\n                                follow={follow}\n                                key={user.id}\n                            />\n                        ))}\n                    </Row>\n                    <BackTop />\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default Users;\n","import { getAuthUserData } from './auth-reducer';\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\n\nconst initialState = {\n    initialized: false,\n};\n\nconst appReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case 'SN/APP/SET_INITIALIZE':\n            return {\n                ...state,\n                initialized: true,\n            };\n        default:\n            return state;\n    }\n};\n\nconst actions = {\n    setInitializedSuccess: () => ({ type: 'SN/APP/SET_INITIALIZE' } as const),\n};\n\nexport const initializeApp = (): ThunkType => async (dispatch) => {\n    await dispatch(getAuthUserData());\n    dispatch(actions.setInitializedSuccess());\n};\n\nexport type InitialStateType = typeof initialState;\ntype ActionsTypes = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsTypes>;\n\nexport default appReducer;\n","import { Link } from 'react-router-dom';\nimport { LaptopOutlined, UserOutlined } from '@ant-design/icons';\nimport { Layout, Menu } from 'antd';\nimport { useState } from 'react';\n\nconst { SubMenu } = Menu;\nconst { Sider } = Layout;\n\nexport const Navbar: React.FC = () => {\n    const [collapsed, setCollapsed] = useState<boolean>(false);\n\n    return (\n        <Sider\n            collapsible\n            collapsed={collapsed}\n            onCollapse={() => setCollapsed(!collapsed)}\n            breakpoint=\"md\"\n            style={{ minHeight: '100%' }}\n        >\n            <div className=\"logo\" />\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']} style={{ height: '100%' }}>\n                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My profile\">\n                    <Menu.Item key=\"1\">\n                        <Link to=\"/profile\">Profile</Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"2\">\n                        <Link to=\"/dialogs\">Messages</Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"3\">\n                        <Link to=\"/chat\">Chat</Link>\n                    </Menu.Item>\n                </SubMenu>\n                <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Developers\">\n                    <Menu.Item key=\"5\">\n                        <Link to=\"/developers\">Developers</Link>\n                    </Menu.Item>\n                </SubMenu>\n            </Menu>\n        </Sider>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Breadcrumb } from 'antd';\n\nexport const BreadCrumb: React.FC = () => {\n    const [breadcrumbItem, setBreadcrumbItem] = useState<string | null>(null);\n    const location = useLocation();\n\n    useEffect(() => {\n        setBreadcrumbItem(location.pathname.replace('/', ''));\n    }, [location]);\n\n    return (\n        <Breadcrumb style={{ margin: '16px 0' }}>\n            <Breadcrumb.Item>\n                <Link to=\"/profile\">Home</Link>\n            </Breadcrumb.Item>\n            {breadcrumbItem !== 'profile' && <Breadcrumb.Item>{breadcrumbItem}</Breadcrumb.Item>}\n        </Breadcrumb>\n    );\n};\n","import 'antd/dist/antd.css';\nimport React, { Suspense, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { animated } from 'react-spring';\nimport './App.css';\nimport Preloader from './components/common/Preloader/Preloader';\nimport Header from './components/Header/Header';\nimport Login from './components/Login/Login';\nimport Users from './components/Users/Users';\nimport { initializeApp } from './redux/app-reducer';\nimport { AppStateType } from './redux/redux-store';\nimport { Layout, Skeleton } from 'antd';\nimport { Navbar } from './components/NavBar/Navbar';\nimport { BreadCrumb } from './components/Breadcrumb/BreadCrumb';\nimport { useRouteTransitions } from './Hooks/useRouteTransitions';\n\nconst { Content, Footer } = Layout;\n\nconst Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'));\nconst Profile = React.lazy(() => import('./pages/Profile'));\nconst ChatPage = React.lazy(() => import('./pages/ChatPage'));\nconst ErrorPage = React.lazy(() => import('./pages/ErrorPage'));\n\nconst App: React.FC = () => {\n    const initialized = useSelector((state: AppStateType) => state.app.initialized);\n    const dispatch = useDispatch();\n    const transitions = useRouteTransitions();\n\n    useEffect(() => {\n        dispatch(initializeApp());\n    }, [dispatch]);\n\n    if (!initialized) {\n        return <Preloader />;\n    }\n\n    return (\n        <Layout style={{ height: '100vh', overflowX: 'hidden' }}>\n            <Header />\n            <Content style={{ height: '100%' }}>\n                <Layout className=\"site-layout-background\" style={{ minHeight: '100%' }}>\n                    <Navbar />\n                    <Content style={{ padding: '0 24px', minHeight: '100%' }}>\n                        <BreadCrumb />\n                        {transitions((props, item) => (\n                            <animated.div style={props}>\n                                <Suspense fallback={<Skeleton active paragraph={{ rows: 6 }} />}>\n                                    <Switch location={item}>\n                                        <Route exact path=\"/\">\n                                            <Redirect from=\"/\" to=\"/profile\" />\n                                        </Route>\n                                        <Route path=\"/dialogs\">\n                                            <Dialogs />\n                                        </Route>\n                                        <Route path=\"/profile/:userId?\">\n                                            <Profile />\n                                        </Route>\n                                        <Route path=\"/developers\">\n                                            <Users />\n                                        </Route>\n                                        <Route path=\"/login\">\n                                            <Login />\n                                        </Route>\n                                        <Route path=\"/chat\">\n                                            <ChatPage />\n                                        </Route>\n                                        <Route path=\"*\">\n                                            <ErrorPage />\n                                        </Route>\n                                    </Switch>\n                                </Suspense>\n                            </animated.div>\n                        ))}\n                        <Footer style={{ textAlign: 'center' }}>Sosial network 2022</Footer>\n                    </Content>\n                </Layout>\n            </Content>\n        </Layout>\n    );\n};\n\nexport default App;\n","import { useLocation } from 'react-router-dom';\nimport { useTransition } from 'react-spring';\n\nexport const useRouteTransitions = () => {\n    const location = useLocation();\n    return useTransition(location, {\n        keys: (location) => location.pathname,\n        from: { display: 'none', transform: 'scale(0.9)', opacity: 0 },\n        enter: { display: 'block', transform: 'scale(1)', opacity: 1 },\n        leave: { display: 'none' }\n    });\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {};\ntype InitialStateType = typeof initialState;\nconst sidebarReducer = (state = initialState): InitialStateType => {\n    return state;\n};\n\nexport default sidebarReducer;\n","import { Action, applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport sidebarReducer from './sidebar-reducer';\nimport usersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\nimport appReducer from './app-reducer';\nimport chatReducer from './chat-reducer';\n\nconst rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    sidebar: sidebarReducer,\n    app: appReducer,\n    chat: chatReducer\n});\n\ntype RootReducerType = typeof rootReducer;\nexport type AppStateType = ReturnType<RootReducerType>;\n\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never;\n\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>;\n\n// @ts-ignore\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\n\n// @ts-ignore\nwindow.__store__ = store;\n\nexport default store;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from 'axios';\nimport { UserType } from '../types/types';\n\nexport const apiKey = '8c4c198e-8707-4939-9726-3f8457232010';\n\nexport const instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': apiKey\n    }\n});\n\nexport enum ResultCodeEnum {\n    Success = 0,\n    Error = 1\n}\n\nexport enum ResultCodeForCaptcha {\n    CaptchaIsRequired = 10\n}\n\nexport type GetItemsType = {\n    items: UserType[];\n    totalCount: number;\n    error: string | null;\n};\n\nexport type APIResponseType<D = {}, RC = ResultCodeEnum | ResultCodeForCaptcha> = {\n    data: D;\n    messages: string[];\n    resultCode: RC;\n    fieldsErrors?: string[];\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"FormsControls_input__1p1aP\",\"inputError\":\"FormsControls_inputError__3a1p_\",\"error\":\"FormsControls_error__9lcue\",\"textarea\":\"FormsControls_textarea__1HM3s\"};","import { PhotosType, ProfileType } from '../types/types';\nimport { instance, APIResponseType } from './api';\n\ntype SavePhotoResponseType = {\n    photos: PhotosType;\n};\n\nexport const profileAPI = {\n    async getUserProfile(id: number) {\n        const res = await instance.get<ProfileType>(`profile/${id}`);\n        return res.data;\n    },\n\n    async getUserStatus(id: number) {\n        const res = await instance.get<string>(`profile/status/${id}`);\n        return res.data;\n    },\n\n    async updateStatus(status: string) {\n        const res = await instance.put<APIResponseType>(`profile/status/`, { status: status });\n        return res.data;\n    },\n\n    async savePhoto(file: File) {\n        const formData = new FormData();\n        formData.append('image', file);\n        const res = await instance.put<APIResponseType<SavePhotoResponseType>>(`profile/photo`, formData);\n        return res.data;\n    },\n\n    async updateProfile(profile: ProfileType) {\n        const res = await instance.put<APIResponseType>(`profile`, { ...profile });\n        return res.data;\n    }\n};\n"],"sourceRoot":""}