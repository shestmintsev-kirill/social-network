(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[3],{355:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__3BStp",posts:"MyPosts_posts__2Eaxb"}},356:function(e,t,n){e.exports={item:"Post_item__1myGU"}},357:function(e,t,n){e.exports={avatar:"ProfileInfo_avatar__1Tzcz"}},360:function(e,t,n){"use strict";n.r(t);var o=n(23),c=n(139),s=n(88),i=n(120),r=n(355),a=n.n(r),l=n(356),u=n.n(l),d=n(5),j=function(e){return Object(d.jsxs)("div",{className:u.a.item,children:[Object(d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"user"}),e.message,Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"like"})," ",e.likesCount]})]})},b=n(77),h=function(e){var t=Object(s.a)({initialValues:{post:""},onSubmit:function(t,n){var o=n.resetForm;e.addNewPost(t),o()}});return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsx)(i.c,{name:"post",onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.post,placeholder:"Enter your post"}),Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{disabled:!t.dirty,htmlType:"submit",children:"Add post"})})]})},p=function(e){var t=e.posts.map((function(e,t){return Object(d.jsx)(j,{message:e.message,likesCount:e.likesCount},t)}));return Object(d.jsxs)("div",{className:a.a.postsBlock,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)("div",{children:Object(d.jsx)(h,{addNewPost:function(t){e.addPost(t.post)}})}),Object(d.jsx)("div",{className:a.a.posts,children:t})]})},O=Object(o.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:c.a.addPost})(p),f=n(56),v=n(0),g=n(81),x=n(7),m=n.n(x),k=n(8),w=n(11),C=function(e){var t=e.contacts,n=e.onChange,o=e.errors.map((function(e){return e.split("->")[1].replace(")","").toLowerCase()}));return Object(d.jsx)("div",{children:Object.keys(t).map((function(e){return Object(d.jsx)(i.b,{title:e,isError:o.some((function(t){return t===e.toLowerCase()})),name:"contacts.".concat(e),onChange:n,value:t[e],placeholder:e},e)}))})},y=function(e){var t=e.profile,n=e.closeEditMode,r=e.authorizedUserId,a=e.errors,l=Object(o.c)(),u=function(e){return e.length?e:""},j=Object(s.a)({initialValues:{fullName:t.fullName,aboutMe:u(t.aboutMe),lookingForAJob:t.lookingForAJob,lookingForAJobDescription:u(t.lookingForAJobDescription),contacts:{facebook:u(t.contacts.facebook),github:u(t.contacts.github),instagram:u(t.contacts.instagram),mainLink:u(t.contacts.mainLink),twitter:u(t.contacts.twitter),vk:u(t.contacts.vk),website:u(t.contacts.website),youtube:u(t.contacts.youtube)}},onSubmit:function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.next=3,l(Object(c.f)(Object(k.a)(Object(k.a)({},t),{},{userId:r})));case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(d.jsxs)("form",{onSubmit:j.handleSubmit,children:[Object(d.jsx)(i.a,{title:"\u0418\u043c\u044f",name:"fullName",onChange:j.handleChange,value:j.values.fullName,placeholder:"fullName"}),Object(d.jsx)(i.a,{title:"\u041e\u0431\u043e \u043c\u043d\u0435",name:"aboutMe",onChange:j.handleChange,value:j.values.aboutMe,placeholder:"aboutMe"}),Object(d.jsx)("input",{name:"lookingForAJob",checked:j.values.lookingForAJob,onChange:j.handleChange,type:"checkbox"})," ","looking For A Job",j.values.lookingForAJob&&Object(d.jsx)(i.a,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",name:"lookingForAJobDescription",onChange:j.handleChange,value:j.values.lookingForAJobDescription,placeholder:"looking For A Job Description"}),Object(d.jsx)(C,{contacts:j.values.contacts,onChange:j.handleChange,errors:a}),Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{htmlType:"submit",children:"Send"})}),!!a.length&&a.map((function(e,t){return Object(d.jsxs)("div",{style:{color:"red"},children:[Object(d.jsx)("strong",{children:"\u041e\u0448\u0438\u0431\u043a\u0430: "}),e]},t)}))]})},M=n(357),P=n.n(M),F=n(138),J=n(3),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},E=n(18),N=function(e,t){return v.createElement(E.a,Object(J.a)(Object(J.a)({},e),{},{ref:t,icon:A}))};N.displayName="EditOutlined";var _=v.forwardRef(N),S=function(e){var t=e.isOwner,n=void 0!==t&&t,s=Object(o.d)((function(e){return e.profilePage.status})),i=Object(v.useState)(!1),r=Object(f.a)(i,2),a=r[0],l=r[1],u=Object(v.useState)(s),j=Object(f.a)(u,2),b=j[0],h=j[1],p=Object(o.c)();Object(v.useEffect)((function(){h(s)}),[s]);return Object(d.jsx)("div",{children:a?Object(d.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441:"," ",Object(d.jsx)(F.a,{onChange:function(e){h(e.target.value)},onBlur:function(){l(!1),p(Object(c.g)(b))},autoFocus:!0,type:"text",value:b})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("strong",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",s||"\u041d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"]}),Object(d.jsx)(_,{style:{marginLeft:"10px"},onClick:function(){n&&l(!0)}})]})})},I=n(26),L=function(e){var t=e.profile,n=e.isOwner,o=e.goToEditMode,c=Object.entries(null===t||void 0===t?void 0:t.contacts).map((function(e,t){return!!e[1]&&Object(d.jsxs)("li",{children:[Object(d.jsxs)("strong",{children:[e[0],": "]}),e[1]]},t)}));return Object(d.jsxs)("form",{children:[n&&Object(d.jsx)(b.a,{onClick:o,children:"Edit profile"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",null===t||void 0===t?void 0:t.fullName]}),(null===t||void 0===t?void 0:t.aboutMe)&&Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),null===t||void 0===t?void 0:t.aboutMe]}),(null===t||void 0===t?void 0:t.lookingForAJob)&&Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "}),null===t||void 0===t?void 0:t.lookingForAJobDescription]}),Object(d.jsx)("ul",{children:c})]})},B=function(){var e,t=Object(v.useState)(!1),n=Object(f.a)(t,2),s=n[0],i=n[1],r=Object(o.c)(),a=Object(I.g)(),l=Object(I.h)(),u=Object(o.d)((function(e){return e.profilePage.profile})),j=Object(o.d)((function(e){return e.auth.userId})),b=Object(o.d)((function(e){return e.profilePage.errors}));Object(v.useEffect)((function(){var e,t=null!==(e=null===l||void 0===l?void 0:l.userId)&&void 0!==e?e:j;t?(r(Object(c.d)(t)),r(Object(c.c)(t))):a.push("/login")}),[j,r,a,l.userId]),Object(v.useEffect)((function(){b.length&&i(!0)}),[b,j,b.length]);return u?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:P.a.avatar,children:[Object(d.jsx)("img",{style:{width:"300px"},src:(null===u||void 0===u||null===(e=u.photos)||void 0===e?void 0:e.large)||"https://www.kindpng.com/picc/m/130-1300217_user-icon-member-icon-png-transparent-png.png",alt:"avatar"}),!(null===l||void 0===l?void 0:l.userId)&&s&&Object(d.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&r(Object(c.e)(e.target.files[0]))}})]}),s?Object(d.jsx)(y,{errors:b,authorizedUserId:j,profile:u,closeEditMode:function(){return i(!1)}}):Object(d.jsx)(L,{profile:u,isOwner:!(null===l||void 0===l?void 0:l.userId),goToEditMode:function(){return i(!0)}}),Object(d.jsx)(S,{isOwner:!(null===l||void 0===l?void 0:l.userId)})]}):Object(d.jsx)(g.a,{})};t.default=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(B,{}),Object(d.jsx)(O,{})]})}}}]);
//# sourceMappingURL=3.e0de98fa.chunk.js.map